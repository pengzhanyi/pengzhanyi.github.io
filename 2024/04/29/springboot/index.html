<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>springboot | Blog | kaori</title><meta name="author" content="zhanyi peng"><meta name="copyright" content="zhanyi peng"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="SpringBoot，有手就会？_哔哩哔哩_bilibili springboot项目启动 springboot启动，一般要加上以下依赖  spring web  mysql.driver mybatis.framework   若是显示不支持某java发型版本，查看项目结构里modules的属性，要所有的java版本设置为一样，再不行，比如在构建时就出现错误，complie,则要在Maven的配">
<meta property="og:type" content="article">
<meta property="og:title" content="springboot">
<meta property="og:url" content="https://pengzhanyi.github.io/2024/04/29/springboot/index.html">
<meta property="og:site_name" content="Blog | kaori">
<meta property="og:description" content="SpringBoot，有手就会？_哔哩哔哩_bilibili springboot项目启动 springboot启动，一般要加上以下依赖  spring web  mysql.driver mybatis.framework   若是显示不支持某java发型版本，查看项目结构里modules的属性，要所有的java版本设置为一样，再不行，比如在构建时就出现错误，complie,则要在Maven的配">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pengzhanyi.github.io/img/head_sculpture.jpg">
<meta property="article:published_time" content="2024-04-29T05:56:49.000Z">
<meta property="article:modified_time" content="2024-07-30T01:33:25.106Z">
<meta property="article:author" content="zhanyi peng">
<meta property="article:tag" content="blog , learing">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pengzhanyi.github.io/img/head_sculpture.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://pengzhanyi.github.io/2024/04/29/springboot/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'springboot',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-07-30 09:33:25'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Blog | kaori" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head_sculpture.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="Blog | kaori"><span class="site-name">Blog | kaori</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">springboot</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-04-29T05:56:49.000Z" title="发表于 2024-04-29 13:56:49">2024-04-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-07-30T01:33:25.106Z" title="更新于 2024-07-30 09:33:25">2024-07-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="springboot"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1H94y1q7td/?spm_id_from=333.337.search-card.all.click">SpringBoot，有手就会？_哔哩哔哩_bilibili</a></p>
<h1 id="springboot"><a href="#springboot" class="headerlink" title="springboot"></a>springboot</h1><h2 id="项目启动"><a href="#项目启动" class="headerlink" title="项目启动"></a>项目启动</h2><ul>
<li><p>springboot启动，一般要加上以下依赖</p>
<ul>
<li>spring web </li>
<li>mysql.driver</li>
<li>mybatis.framework</li>
</ul>
</li>
<li><p>若是显示不支持某java发型版本，查看项目结构里modules的属性，要所有的java版本设置为一样，再不行，比如在构建时就出现错误，complie,则要在Maven的配置中修改java版本</p>
</li>
<li><p>springboot项目启动后要配置application.properties文件,配置连接数据库</p>
  <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mysql?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">mysql</span></span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>现在一般都用application.yml文件取代properties文件,用法更灵活更方便</p>
<p>注意yml文件，键后冒号后要有一个空格</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&gt;spring:</span></span><br><span class="line"> <span class="attr">datasource:</span></span><br><span class="line">   <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">   <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/spring_db?useSSL=false&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai</span></span><br><span class="line">   <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">   <span class="attr">password:</span> <span class="string">mysql</span></span><br></pre></td></tr></table></figure>


</blockquote>
<ul>
<li><p>访问8080端口 ，发现404 ，没有别的页面内容，springboot一般页面内容在resources的static 文件夹和template文件夹下，</p>
<p>  在static文件夹下新建index.html，随便写入内容，重新启动，发现localhost:8080&#x2F; 显示了该html文件的内容，即该页面内容默认显示在端口号的 “&#x2F;“ 位置，这种方法现在已经过时了，利用前端框架开发页面，后端提供接口，故可以删去这两个文件夹</p>
</li>
<li><p>现在都用JSON文件 ，是一种数据载体，在接口中访问JSON文件</p>
</li>
<li><p>在主要文件包新建controller文件夹，其中主要存放接口 ，所有创建的接口都会放在这个包里面</p>
</li>
<li><p>在其中新建web.java</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span> <span class="comment">//表示定义为控制器 ,一个数据接口,作用等同于@Controller+@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/web&quot;)</span> <span class="comment">//表示请求路径 ，8080/web  ,一级路由</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span> <span class="comment">//表示请求路径 ，8080/web/hello  ,二级路由</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;你好啊&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>重新启动springboot则可以在localhost:8080&#x2F;wb&#x2F;hello 页面 看到 “你好啊” ，这就是一个最简单的接口</li>
</ul>
</li>
<li><p>如果想要localhost:8080 不报错 ，则可以创建一个默认接口，请求路径设置为根目录</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span> <span class="comment">//表示定义为控制器 ,一个数据接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RootController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/&quot;)</span>   <span class="comment">//且“/”可以省略</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;你好啊&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>则此时访问localhost:8080 ,不会报错，出现“你好啊”</li>
</ul>
</li>
</ul>
<h2 id="利用mybatis增删查改"><a href="#利用mybatis增删查改" class="headerlink" title="利用mybatis增删查改"></a>利用mybatis增删查改</h2><h3 id="插入-Post"><a href="#插入-Post" class="headerlink" title="插入 Post"></a>插入 Post</h3><ul>
<li><p>springboot增删改查 ， 利用mybatis</p>
<ul>
<li><p>只需要在pom.xml文件中有这个依赖就可以，而不需要再额外引入mybatis</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>现有如下数据库：</p>
  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#创建book表，包含id ,name ,price</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> book(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    price <span class="keyword">double</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

</li>
<li><p>在引入数据口后，每个数据需要对应的实体对象，在主文件夹下创建entity包 ，用于存放实体类</p>
<ul>
<li><p>新建Book.java表示java实体类 ，与数据库表对应</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span> <span class="comment">//lombok注解，自动生成getter和setter方法,如果没有getter和setter方法,</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id ;</span><br><span class="line">    <span class="keyword">private</span> String name ;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> price ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>还需要再主文件夹下创建mapper包 ，在mapper中存放的是接口类interface，</p>
<ul>
<li><p>写一个BookMapper 接口，用于访问数据库</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span> <span class="comment">//表示这是一个mybatis的mapper接口,将其Bean到spring容器中，由spring容器管理，自动注入到spring容器中</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookMapper</span> &#123;<span class="comment">// 作用是映射xml文件中的sql语句</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert(&quot;insert into book(id,name,price) values(#&#123;id&#125;,#&#123;name&#125;,#&#123;price&#125;)&quot;)</span></span><br><span class="line">    <span class="comment">//  @Insert括号中的语句就是sql语句，#&#123;id&#125;表示实体类中的属性 ，可以根据输如的Book动态参数生成sql语句</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(Book book)</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在控制器中 注入BookMapper对象 ， 并新加入一个接口 ，清空之前的Controller , 只留一个WebController修改结果如下</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span> <span class="comment">//表示定义为控制器 ,一个数据接口</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span> <span class="comment">//表示请求路径 ，8080/web  ,一级路由</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebController</span> &#123;</span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/hello&quot;)</span> <span class="comment">//表示请求路径 ，8080/web/hello  ,二级路由</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;你好啊&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//以下是为实现插入数据做出的主要改动</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Resource</span><span class="comment">//表示注入BookMapper对象到spring容器中</span></span><br><span class="line">    BookMapper bookMapper ;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@RequestMapping这是一个接口，用于插入图书</span></span><br><span class="line">    <span class="meta">@RequestMapping(method = RequestMethod.POST,value = &quot;insert&quot;)</span><span class="comment">//表示请求路径 ，8080/web/insert</span></span><br><span class="line">    <span class="comment">// ,二级路由,method表示请求方式,value表示请求路径 ,效果等同于 @PostMapping(&quot;insert&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//这是一个接口方法，用于插入图书，@RequestBody表示接收json数据,并将json数据转换为Book对象</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertBook</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span>&#123;</span><br><span class="line"></span><br><span class="line">        bookMapper.insert(book);<span class="comment">//调用BookMapper的insert方法</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>其流程是：</p>
<ul>
<li>postman向localhost:8080&#x2F;user发出post请求，发送json格式的数据，</li>
<li>由控制器WebController中的对应insert请求路径的方法insertBook()  , 并通过@RequestBody将JSON格式信息转化为Book对象</li>
<li>函数中调用bookMapper.insert()处理 ，</li>
<li>insert函数中根据传入的book对象，动态执行sql语句</li>
</ul>
</li>
<li><p>用postman测试：</p>
</li>
</ul>
</li>
</ul>
<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240429171029220.png" alt="image-20240429171029220" style="zoom:70%;" />

<p>​	刷新数据库表 ，发现成功提交 ，（如果发现只有新增项，但表中没有数据，可能是Book类中没有对应的getter和setter方法），注意写完接口后要重启springboot项目，否则用postman会出现 405错误 ，即接口请求错误</p>
<h3 id="更新Put"><a href="#更新Put" class="headerlink" title="更新Put"></a>更新Put</h3><ul>
<li><p>同样的可以用put请求更新（修改）数据库中的数据</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//WebController中添加updateBook函数：</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;update&quot;)</span><span class="comment">//PutMapping表示请求方式为put，put方法作用是更新数据</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateBook</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span>&#123;</span><br><span class="line">        bookMapper.updateById(book);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//BookMapper中添加update函数</span></span><br><span class="line"><span class="comment">//根据id ,更新book表中的数据项的属性值</span></span><br><span class="line">    <span class="meta">@Update(&quot;update book set name=#&#123;name&#125;,price=#&#123;price&#125; where id=#&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">updateById</span><span class="params">(Book book)</span>;</span><br></pre></td></tr></table></figure>

<p>  测试：发现成功修改book表中数据</p>
  <img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240429174952581.png" alt="image-20240429174952581" style="zoom:67%;" /></li>
</ul>
<blockquote>
<p>在@Insert中有 动态参数  #{} 和 ${} 有什么区别？</p>
<p>${}是字符串拼接，#{}是动态生成sql语句 ， ${} 有sql注入问题</p>
</blockquote>
<h3 id="查询-Get"><a href="#查询-Get" class="headerlink" title="查询 Get"></a>查询 Get</h3><ul>
<li><p>查询数据库：查询时BookMapper中新增listBook函数，此时要有返回值，</p>
</li>
<li><p>利用Get请求：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//WebController中添加updateBook函数：</span></span><br><span class="line"><span class="comment">//查询数据库中的所有图书</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;list&quot;)</span><span class="comment">//GetMapping表示请求方式为get，get方法作用是查询数据</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">ListBook</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> bookMapper.listBook();<span class="comment">//调用BookMapper的listBook方法,返回信息</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//BookMapper中添加listBook函数</span></span><br><span class="line"><span class="comment">//查询数据库中的所有图书</span></span><br><span class="line">    <span class="meta">@Select(&quot;select * from book order by id desc&quot;)</span><span class="comment">//desc表示降序</span></span><br><span class="line">    List&lt;Book&gt; <span class="title function_">listBook</span><span class="params">()</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<p>结果如下：</p>
<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240429183454375.png" alt="image-20240429183454375" style="zoom:67%;" />











<h3 id="删除-Delete"><a href="#删除-Delete" class="headerlink" title="删除 Delete"></a>删除 Delete</h3><ul>
<li><p>根据id删除表中图书项</p>
</li>
<li><p>方法一： 在请求路径中附带参数：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//WebController中添deleteBook函数：</span></span><br><span class="line"><span class="meta">@DeleteMapping(&quot;/delete/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteBook</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> <span class="type">int</span> id)</span>&#123;<span class="comment">//@PathVariable(&quot;id&quot;)作用是将路径参数id赋值给id变量</span></span><br><span class="line">	<span class="comment">//DeleteMapping表示请求方式为delete，delete方法作用是删除数据，/&#123;id&#125;表示路径参数</span></span><br><span class="line">    </span><br><span class="line">    bookMapper.deleteById(id);<span class="comment">//调用BookMapper的delete方法,返回信息</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//BookMapper中添加deleteById函数</span></span><br><span class="line"><span class="comment">//根据id删除图书</span></span><br><span class="line">    <span class="meta">@Delete(&quot;delete from book where id=#&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure>

<p>  结果如下图，delete&#x2F;3表示 ，删除3号图书，这是在请求路径中附带参数的方法</p>
  <img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240429223747796.png" alt="image-20240429223747796" style="zoom:67%;" />
</li>
<li><p>法二：使用 @RequestParam常用于接收简单路径变量或查询参数。</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DeleteMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteBook</span><span class="params">(<span class="meta">@RequestParam</span> Integer id)</span> &#123;<span class="comment">//@RequestParam常用于</span></span><br><span class="line">        <span class="keyword">if</span> (id != <span class="literal">null</span>) &#123;</span><br><span class="line">            bookMapper.deleteById(id);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>(<span class="string">&quot;Book id cannot be null.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>​	此时在postman中测试也不是传递json文件 , 而是利用Params  , 输入对应的key和value，相当于另一种在请求路径中附带参数</p>
<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240429230549627.png" alt="image-20240429230549627" style="zoom:67%;" />







<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li><p>如何写接口用于发送和查询数据？</p>
<ol>
<li>写对应数据库表字段的实体类对象 ，注意实现对应的setter和getter方法，或直接用@Data注解</li>
<li></li>
<li>写controller方法 ， public void save&#x2F;update&#x2F;delete(){} ，再写@RequestMapping (“”) ,其中括号中参数为请求路由，并指定请求方式method包括POST、PUT，DELETE，GET，对应的也可以直接写成 @PostMapping ,@PutMapping 等，</li>
<li>根据controller中调用的方法，在mapper中写出对应的方法 ，并加上注解@Insert,@Update,@Delete,@Select,要注意动态数据使用#{}包裹</li>
</ol>
</li>
<li><p>注意：查询接口要注意返回数据的实体类，List&lt; Book&gt; , Book</p>
</li>
</ul>
<h2 id="利用xml文件编写动态sql"><a href="#利用xml文件编写动态sql" class="headerlink" title="利用xml文件编写动态sql"></a>利用xml文件编写动态sql</h2><p>比如在进行更新操作时，只想更新某个几个属性值，不需要全部更新，这时可以编写动态sql解决，</p>
<p>动态拼接</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUser&quot;</span>&gt;</span></span><br><span class="line">       update sys_user</span><br><span class="line">       <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;username != null&quot;</span>&gt;</span></span><br><span class="line">                and username=#&#123;username&#125;,</span><br><span class="line">           <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">               and password=#&#123;password&#125;,</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;nickname != null&quot;</span>&gt;</span></span><br><span class="line">                and nickname=#&#123;nickname&#125;,</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;email != null&quot;</span>&gt;</span></span><br><span class="line">                and email=#&#123;email&#125;,</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;phone != null&quot;</span>&gt;</span></span><br><span class="line">                and phone=#&#123;phone&#125;,</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;address != null&quot;</span>&gt;</span></span><br><span class="line">                and address=#&#123;address&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">           id=#&#123;id&#125;</span><br><span class="line">       <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>



<blockquote>
<p>MyBatis中，使用<where>标签会智能地处理这种情况。当<where>标签内没有条件被激活（即所有<if>条件都不满足）时，它不会生成无效的AND或WHERE关键字。即如果只根据email查询，实际生成的语句会自动去掉前面的and，不会出现错误</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://mybatis.net.cn/getting-started.html">https://mybatis.net.cn/getting-started.html</a></p>
<p>在resource下新建mapper包，其中新建User.xml文件用于编写相关sql</p>
<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240510154143694.png" alt="image-20240510154143694" style="zoom:50%;" />



<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.springboot.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;listUsers&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.springboot.entity.User&quot;</span>&gt;</span></span><br><span class="line">        select * from user</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>namespace和resultType都是引用，可以鼠标放在要引用的类上，左键复制路径&#x2F;引用，选择复制引用</p>
<p>id是UserMapper中的方法名， resultType 是返回类型，这里必须是对象引用，不能写List&lt; User&gt;,</p>
<p>若是返回多个在对象，则会自动变成List，故不用担心</p>
<p>同时还要配置 文件，告诉springboot这个相关的xml文件的位置，在application.yml文件中</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br></pre></td></tr></table></figure>



<p>安装MybatisX插件，可以检查xml文件内容错误</p>
<p>在Usermapper中可以删除函数上的@Select(“select * from user”)</p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><ul>
<li><p>一般在主代码包下创建common包</p>
<blockquote>
<p>在Java项目中，common包（或者命名为commons）通常用于存放一些通用的、可复用的类和工具方法。这些内容往往不特定于任何特定业务模块，而是整个项目或多个模块间共用的。具体来说，common包可能包含以下类型的类和资源：</p>
<ul>
<li>工具类（Utility Classes）：提供通用功能的方法，如日期处理、字符串操作、文件操作、数学计算、加密解密等。</li>
<li>常量定义（Constants）：项目中使用的各种常量值，如错误代码、状态码、系统配置参数等。</li>
<li>异常类（Exception Classes）：自定义异常类，用于封装特定业务或技术异常。</li>
<li>模型对象（Model Objects）：一些基础数据传输对象（DTOs）或是领域模型对象，它们可能被多个模块共享。</li>
<li>配置类（Configuration Classes）：在Spring框架中，可能包含一些通用的配置类或属性类。</li>
<li>辅助类（Helper Classes）：帮助简化代码、提高效率的辅助类，比如日志记录助手、线程池管理类等。</li>
<li>第三方库封装：对项目中使用的第三方库进行二次封装，提供更加符合项目需求的接口。</li>
</ul>
<p>将这些通用组件放在common包中，有利于代码的模块化和重用，同时也便于维护和理解项目结构。开发者在需要时可以直接引用这些通用组件，无需重复编写相似功能的代码。</p>
</blockquote>
<ul>
<li><p>如在其中新增Result.java，封装后端发送向前端的回应结果</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 功能：封装返回结果，</span></span><br><span class="line"><span class="comment"> * 日期：2024/5/1 15:37</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span><span class="comment">//添加全参构造方法</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span><span class="comment">//添加无参构造方法</span></span><br><span class="line"><span class="meta">@Builder</span><span class="comment">//添加builder方法</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span> &#123; <span class="comment">//该类功能：</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">CODE_SUCCESS</span> <span class="operator">=</span> <span class="string">&quot;200&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">CODE_AUTH_ERROR</span> <span class="operator">=</span> <span class="string">&quot;401&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">CODE_SYS_ERROR</span> <span class="operator">=</span> <span class="string">&quot;500&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String code;<span class="comment">//请求状态码，200表示成功，401表示没有权限，500表示系统错误</span></span><br><span class="line">    <span class="keyword">private</span> String msg;<span class="comment">//表示错误的详细信息</span></span><br><span class="line">    <span class="keyword">private</span> Object data;<span class="comment">//返回数据,是后端向前端返回数据的载体</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(CODE_SUCCESS, <span class="string">&quot;请求成功&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//等同于 Result.builder().code(CODE_SUCCESS).msg(&quot;请求成功&quot;).data(null).build();构建者模式</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">success</span><span class="params">(Object data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(CODE_SUCCESS, <span class="string">&quot;请求成功&quot;</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">error</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(CODE_SYS_ERROR, msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">error</span><span class="params">(String code, String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(code, msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title function_">error</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>(CODE_SYS_ERROR, <span class="string">&quot;系统错误&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>只需要修改Controller层的返回结果为Result即可，如下</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">user</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    List&lt;User&gt; users = userService.listUsers();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Result.success(users);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h3 id="配置mybatis日志"><a href="#配置mybatis日志" class="headerlink" title="配置mybatis日志"></a>配置mybatis日志</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span> <span class="comment">#表示扫描所有的mapper文件</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span> <span class="comment">#开启sql日志</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span> <span class="comment"># 开启数据库字段下划线转驼峰命名</span></span><br></pre></td></tr></table></figure>







<h4 id="http"><a href="#http" class="headerlink" title="http"></a>http</h4><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1M44y1w7J2/?spm_id_from=333.788">https://www.bilibili.com/video/BV1M44y1w7J2/?spm_id_from=333.788</a></p>
<p>http状态码：</p>
<ul>
<li>200：正确</li>
<li>400：接口参数错误</li>
<li>404：接口路径错了或参数错误</li>
<li>405：接口请求路类型错误，比如要求是delete请求，却用了其他请求</li>
<li>500：后台错误</li>
</ul>
<h4 id="参数传递"><a href="#参数传递" class="headerlink" title="参数传递"></a>参数传递</h4><p>url参数传入 ,在请求路径中附带请求参数</p>
<ul>
<li>传入单个简单参数</li>
</ul>
<p>​		访问<a target="_blank" rel="noopener" href="http://loaclhost:8080/post?num=3">http://loaclhost:8080/post?num=3</a> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/post&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">post</span><span class="params">(<span class="type">int</span> num)</span>&#123; <span class="comment">//</span></span><br><span class="line">     System.out.println(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>传入一个类对象</li>
</ul>
<p>访问<a target="_blank" rel="noopener" href="http://loaclhost:8080/post?name=jack&age=20">http://loaclhost:8080/post?name=jack&amp;age=20</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/post&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">post</span><span class="params">(Obj obj)</span>&#123; <span class="comment">//Obj是包含两个属性 name和age的类</span></span><br><span class="line">    <span class="keyword">return</span> Result.success(obj) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>现多用前端向后端传入json格式数据，后端根据json数据转化为对象，这时需要用到注解@RequestBody</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/post&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">post</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span>&#123; <span class="comment">//Book包含id ,name ,price</span></span><br><span class="line">    <span class="keyword">return</span> Result.success(book) ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>利用postman发送数据</p>
<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240501191800853.png" alt="image-20240501191800853" style="zoom:80%;" />



<h4 id="json数据语法格式"><a href="#json数据语法格式" class="headerlink" title="json数据语法格式"></a>json数据语法格式</h4><p><a target="_blank" rel="noopener" href="https://www.runoob.com/json/json-syntax.html">JSON 语法 | 菜鸟教程 (runoob.com)</a></p>
<h1 id="springboot分层解耦架构"><a href="#springboot分层解耦架构" class="headerlink" title="springboot分层解耦架构"></a>springboot分层解耦架构</h1><h2 id="三层架构"><a href="#三层架构" class="headerlink" title="三层架构"></a>三层架构</h2><p>在对响应进行处理和回复时，代码逻辑主要包括</p>
<ul>
<li>接收请求，相应数据</li>
<li>逻辑处理</li>
<li>数据访问</li>
</ul>
<p>根据<strong>单一职责原则</strong>，每一个接口、类、方法的职责更单一些，只承担一种功能，可以使程序可读性更强，易于扩展类修改</p>
<ul>
<li><p>按照上述的三个组成部分，在我们项目开发中呢，可以将代码分为三层：</p>
<ul>
<li>Controller：控制层。接收前端发送的请求，对请求进行处理，并响应数据。</li>
<li>Service：业务逻辑层。处理具体的业务逻辑。</li>
<li>Dao（Mapper）：数据访问层(Data Access Object)，也称为持久层。负责数据访问操作，包括数据的增、删、改、查。</li>
</ul>
</li>
</ul>
<p>基于三层架构的程序执行流程：</p>
<ul>
<li>前端发起的请求，由Controller层接收（Controller响应数据给前端）</li>
<li>Controller层调用Service层来进行逻辑处理（Service层处理完后，把处理结果返回给Controller层）</li>
<li>Serivce层调用Dao层（逻辑处理过程中需要用到的一些数据要从Dao层获取）</li>
<li>Dao层操作文件中的数据（Dao拿到的数据会返回给Service层）</li>
</ul>
<p>三层架构的好处：</p>
<ol>
<li>复用性强</li>
<li>便于维护</li>
<li>利用扩展</li>
</ol>
<h2 id="分层解耦"><a href="#分层解耦" class="headerlink" title="分层解耦"></a>分层解耦</h2><p>内聚和耦合。</p>
<ul>
<li><p>内聚：软件中各个功能模块内部的功能联系。</p>
</li>
<li><p>耦合：衡量软件中各个层&#x2F;模块之间的依赖、关联的程度。</p>
</li>
</ul>
<p><strong>软件设计原则：高内聚低耦合。</strong></p>
<blockquote>
<p>高内聚指的是：一个模块中各个元素之间的联系的紧密程度，如果各个元素(语句、程序段)之间的联系程度越高，则内聚性越高，即 “高内聚”。</p>
<p>低耦合指的是：软件中各个层、模块之间的依赖关联程序越低越好。</p>
<p>高内聚、低耦合的目的是使程序模块的可重用性、移植性大大增强。</p>
</blockquote>
<p>普通程序中的耦合问题：</p>
<ul>
<li>在Controller类中需要新建一个Service层对象才能使用其中服务，</li>
<li>同样在Service类中需要新建一个Mapper层对象用于进行数据访问</li>
</ul>
<p>使各个层之间耦合在一起，若</p>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711123643345.png" alt="image-20240711123643345"></p>
<p>要想实现解耦，就不能在Controller或Service层中new 一个对象了 ，没有业务层对象但仍要在其中使用到对应的服务</p>
<p>解决思路是：</p>
<ul>
<li>提供一个容器，容器中存储一些对象(例：EmpService对象)</li>
<li>controller程序从容器中直接获取EmpService类型的对象</li>
</ul>
<p>涉及到Spring中的两个核心概念：</p>
<ul>
<li><p><strong>控制反转：</strong> Inversion Of Control，简称IOC。对象的创建控制权由程序自身转移到外部（容器），这种思想称为控制反转。</p>
<blockquote>
<p>对象的创建权由程序员主动创建转移到容器(由容器创建、管理对象)。这个容器称为：IOC容器或Spring容器</p>
</blockquote>
</li>
<li><p><strong>依赖注入：</strong> Dependency Injection，简称DI。容器为应用程序提供运行时，所依赖的资源，称之为依赖注入。</p>
<blockquote>
<p>程序运行时需要某个资源，此时容器就为其提供这个资源。</p>
<p>例：EmpController程序运行时需要EmpService对象，Spring容器就为其提供并注入EmpService对象</p>
</blockquote>
</li>
</ul>
<p>IOC容器中创建、管理的对象，称之为：bean对象</p>
<h2 id="IOC-和DI"><a href="#IOC-和DI" class="headerlink" title="IOC  和DI"></a>IOC  和DI</h2><ul>
<li>Service层以及Dao层的实现类交给IOC容器管理，</li>
<li>为Controller及Service注入运行时依赖的对象</li>
</ul>
<p>控制反转</p>
<ul>
<li>在Service层和IOC类上加上 @Component注解，表示将该类交给IOC容器管理，成为IOC容器中的Bean对象</li>
</ul>
<p>依赖注入</p>
<ul>
<li><p>将private EmpService empService &#x3D; new EmpService()，改为</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span> <span class="comment">//依赖注入</span></span><br><span class="line"><span class="keyword">private</span> EmpService empService;</span><br></pre></td></tr></table></figure>

<p>  表示运行时，IOC容器会提供该类型的bean对象，并赋值该变量</p>
</li>
</ul>
<h3 id="控制反转"><a href="#控制反转" class="headerlink" title="控制反转"></a>控制反转</h3><p>控制反转是指将对象的控制权交给IOC容器，由IOC容器创建及管理这些对象，IOC容器中的这些对象也称为bean对象</p>
<p>要把某个对象交给IOC容器管理，需要在类上添加一个注解：@Component </p>
<p>而Spring框架为了更好的标识web应用程序开发当中，bean对象到底归属于哪一层，又提供了@Component的衍生注解：</p>
<ul>
<li><p>要把某个对象交给IOC容器管理，需要在对应的类上加上如下注解之一：</p>
<table>
<thead>
<tr>
<th align="left">注解</th>
<th>说明</th>
<th>位置</th>
</tr>
</thead>
<tbody><tr>
<td align="left">@Controller</td>
<td>@Component的衍生注解</td>
<td>标注在控制器类上</td>
</tr>
<tr>
<td align="left">@Service</td>
<td>@Component的衍生注解</td>
<td>标注在业务类上</td>
</tr>
<tr>
<td align="left">@Repository</td>
<td>@Component的衍生注解</td>
<td>标注在数据访问类上（由于与mybatis整合，用的少）</td>
</tr>
<tr>
<td align="left">@Component</td>
<td>声明bean的基础注解</td>
<td>不属于以上三类时，用此注解，如一些工具类</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="组件扫描"><a href="#组件扫描" class="headerlink" title="组件扫描"></a>组件扫描</h3><p>bean想要生效，还需要被组件扫描</p>
<p> 下面我们通过修改项目工程的目录结构，来测试bean对象是否生效：</p>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140216615.png" alt="image-20240711140216615"></p>
<p>运行程序后，报错：</p>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140229417.png" alt="image-20240711140229417"></p>
<p>为什么没有找到bean对象呢？</p>
<ul>
<li>使用四大注解声明的bean，要想生效，还需要被组件扫描注解@ComponentScan扫描</li>
</ul>
<blockquote>
<p>@ComponentScan注解虽然没有显式配置，但是实际上已经包含在了引导类声明注解 @SpringBootApplication 中，&#x3D;&#x3D;<strong>默认扫描的范围是SpringBoot启动类所在包及其子包</strong>&#x3D;&#x3D;。</p>
<p> <img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140241743.png" alt="image-20240711140241743"></p>
</blockquote>
<ul>
<li>解决方案：手动添加@ComponentScan注解，指定要扫描的包   （&#x3D;&#x3D;仅做了解，不推荐&#x3D;&#x3D;）</li>
</ul>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140307138.png" alt="image-20240711140307138"></p>
<p>推荐做法（如下图）：</p>
<ul>
<li>将我们定义的controller，service，dao这些包呢，都放在引导类所在包com.itheima的子包下，这样我们定义的bean就会被自动的扫描到</li>
</ul>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140317104.png" alt="image-20240711140317104"></p>
<h3 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h3><p>依赖注入，是指IOC容器要为应用程序去提供运行时所依赖的资源，而资源指的就是对象。</p>
<p>在入门程序案例中，我们使用了@Autowired这个注解，完成了依赖注入的操作，而Autowired翻译过来叫：自动装配。</p>
<p>@Autowired注解，默认是按照<strong>类型</strong>进行自动装配的（去IOC容器中找某个类型的对象，然后完成注入操作）</p>
<blockquote>
<p>入门程序举例：在EmpController运行的时候，就要到IOC容器当中去查找EmpService这个类型的对象，而我们的IOC容器中刚好有一个EmpService这个类型的对象，所以就找到了这个类型的对象完成注入操作。</p>
</blockquote>
<p>如果在IOC容器中，存在多个相同类型的bean对象</p>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140827344.png" alt="image-20240711140827344"></p>
<ul>
<li>程序运行会报错</li>
</ul>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140838938.png" alt="image-20240711140838938"></p>
<p>如何解决上述问题呢？Spring提供了以下几种解决方案：</p>
<ul>
<li><p>@Primary</p>
</li>
<li><p>@Qualifier</p>
</li>
<li><p>@Resource</p>
</li>
</ul>
<p>使用@Primary注解：当存在多个相同类型的Bean注入时，加上@Primary注解，来确定默认的实现。</p>
<p> <img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140847168.png" alt="image-20240711140847168"></p>
<p>使用@Qualifier注解：指定当前要注入的bean对象。 在@Qualifier的value属性中，指定注入的bean的名称。</p>
<ul>
<li>@Qualifier注解不能单独使用，必须配合@Autowired使用</li>
</ul>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140854251.png" alt="image-20240711140854251"></p>
<p>使用@Resource注解：是按照bean的名称进行注入。通过name属性指定要注入的bean的名称。</p>
<p><img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240711140908478.png" alt="image-20240711140908478"></p>
<h4 id="Autowird-与-Resource的区别"><a href="#Autowird-与-Resource的区别" class="headerlink" title="@Autowird 与 @Resource的区别"></a>@Autowird 与 @Resource的区别</h4><blockquote>
<ul>
<li>@Autowired 是spring框架提供的注解，而@Resource是JDK提供的注解</li>
<li>@Autowired 默认是按照类型注入，而@Resource是按照名称注入</li>
</ul>
</blockquote>
<h1 id="Mybatis-Plus"><a href="#Mybatis-Plus" class="headerlink" title="Mybatis-Plus"></a>Mybatis-Plus</h1><p><a target="_blank" rel="noopener" href="https://baomidou.com/">MyBatis-Plus 官网)</a></p>
<ul>
<li><p>需要在pom.xml文件中引入该依赖：</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>springboot3.0集成mybatis-plus</p>
<ul>
<li><p>1.对于mybatis-plus的版本是有要求的，最低版本“3.5.3”可以适配</p>
<p>  不然会出现:Invalid bound statement (not found) 异常</p>
</li>
<li><p>当然出现这个异常的原因还有：</p>
<p>  1.·mapper名字和xml名字不一样</p>
<p>  2.·mapper中的namespace和mapper名字不一样</p>
<p>  3.·@MapperScan 的配置目录错误也会导致这个错误</p>
</li>
</ul>
</blockquote>
</li>
<li><p>mybatis-plus会增强Mapper接口 需要再mapper接口中继承BaseMapper&lt;实体类名&gt;,用例如下：</p>
<ul>
<li><p>修改实体类Book</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName(&quot;book&quot;)</span><span class="comment">//表名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(value = &quot;id&quot;, type = IdType.AUTO)</span></span><br><span class="line">    <span class="comment">//@TableId作用是表示主键，value表示主键字段名，type 表示主键生成策略,这里表示id自动递增,</span></span><br><span class="line">    <span class="keyword">private</span>   <span class="type">int</span> id ;</span><br><span class="line">    <span class="keyword">private</span> String name ;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> price ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
<li><p>修改BookMapper文件 ，其中为空即可</p>
</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Book&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>WebController内容如下</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span> <span class="comment">//表示定义为控制器 ,一个数据接口</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/&quot;)</span> <span class="comment">//表示请求路径 ，8080/web  ,一级路由</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span><span class="comment">//@Resource作用与@Autowired作用一样，注入bean</span></span><br><span class="line">    BookMapper bookMapper ;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/insert&quot;)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertBook</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span>&#123;</span><br><span class="line">            bookMapper.insert(book);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>测试数据插入功能，</p>
<blockquote>
<p>按视频里面一样的一直报各种各样奇怪的error,有什么maven的test用例不过，什么webController没有成功注入，搞了半天，网上也没有类似的，发现引入的包从3.4.3.1变成3.5.3.1就全是错误，换回来虽然能运行但是无法正确插入数据，显示什么无法正确加载它的Insert方法啥的，还是得用官网的，把与mybatis相关的其他依赖都删掉，只加入：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-spring-boot3-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ok ,然后就全都能正确运行了 ，乐~~~</p>
</blockquote>
</li>
</ul>
<p>  成功插入！</p>
</li>
<li><p>同样的，如果要再加入update功能，只需要在WebController中添加函数，直接调用mybatis-plus接口中的函数即可</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping(&quot;update&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span>&#123;</span><br><span class="line">        bookMapper.updateById(book);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>查询：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;getBooks&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getBooks</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> bookMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//这里参数queryWrapper表示是具体的查询条件，传入了一个null参数表示没有查询条件会返回全部查询结果</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>如果想要设置按照某种查询条件返回结果，可以构造QuerryMapper</p>
<p>  例：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;getBooks&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getBooks</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//想要将返回的List&lt;Book&gt;按照id升序排列，可以这样写：</span></span><br><span class="line">        <span class="type">QueryWrapper</span> <span class="variable">queryWrapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;Book&gt;();<span class="comment">//创建一个查询条件对象</span></span><br><span class="line">        queryWrapper.orderByAsc(<span class="string">&quot;id&quot;</span>);<span class="comment">//表示按照id升序排列</span></span><br><span class="line">        <span class="comment">//queryWrapper.orderByDesc(&quot;id&quot;);//该行表示按照id降序排列</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> bookMapper.selectList(queryWrapper);<span class="comment">//传入查询条件对象，则返回的list会按id顺序排列</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>有兴趣可以查看一下BaseMapper接口内容，其中有insert函数，等，</p>
</li>
<li><p>其实不应该在Controller中直接调用Mapper的函数，应该用Service层继承ServiceImp ,调用其中函数 ，</p>
</li>
<li><p>感觉不建议使用，用mybatis就好了</p>
</li>
</ul>
<h1 id="增删查改进阶"><a href="#增删查改进阶" class="headerlink" title="增删查改进阶"></a>增删查改进阶</h1><p>项目新增service包，用于业务逻辑处理，事务管理，协调数据库操作等</p>
<p>规则如下：如创建UserService接口，在其中写虚函数，  再实现UserServiceImp，好扩展</p>
<ul>
<li><p>先创建entity实体类 Book“</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@TableName(&quot;book&quot;)</span><span class="comment">//表名</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Book</span> &#123;</span><br><span class="line">    <span class="meta">@TableId(value = &quot;id&quot;, type = IdType.AUTO)</span><span class="comment">//@TableId作用是表示主键，value表示主键字段名，type 表示主键生成策略</span></span><br><span class="line">    <span class="keyword">private</span>   <span class="type">int</span> id ;</span><br><span class="line">    <span class="keyword">private</span> String name ;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> price ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建相应的Mapper接口用来操作数据库 </p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;Book&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert(&quot;insert into book(id,name,price) values(#&#123;id&#125;,#&#123;name&#125;,#&#123;price&#125;)&quot;)</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insertBook</span><span class="params">(Book book)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
<li><p>创建相应的Service接口和实现类<br>  BookService接口：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  BookServiceImp类：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImp</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    BookMapper bookMapper;<span class="comment">//在其中注入bookMapper用来进行数据库操作</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line">        bookMapper.insertBook(book);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>创建BookController</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/book&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    BookServiceImp bookServiceImp;<span class="comment">//在Controller中直接使用Service</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/add&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">addBook</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span> &#123;</span><br><span class="line"></span><br><span class="line">        bookServiceImp.insertBook(book);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>故整个逻辑为，</p>
<ul>
<li>Controller中使用@RequestBody来接收来自前端的数据，并调用Service中的服务，并返回结果</li>
<li>Service中处理主要运行逻辑，调用Mapper层函数用于处理数据库</li>
<li>Mapper层中主要是数据库的增删改查，因mybatis-plus，几乎可以为空，根据需要写</li>
</ul>
<p>例如新增功能，批量删除：</p>
<ul>
<li><p>在Controller中新增函数</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//批量删除</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delete&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">deleteBooks</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;Integer&gt; ids)</span> &#123;<span class="comment">//表示接收json数据转化为Integer类型List</span></span><br><span class="line"></span><br><span class="line">        bookServiceImp.deleteBooks(ids);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在bookServiceImp中新增函数</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteBooks</span><span class="params">(List&lt;Integer&gt; ids)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Integer id : ids) &#123;</span><br><span class="line"></span><br><span class="line">            bookMapper.deleteById(id);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>这里直接调用了mybatis-plus中的函数故不需要再修改bookMapper</p>
</li>
</ul>
<p>结果如下：</p>
<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240503052601794.png" alt="image-20240503052601794" style="zoom:80%;" />





<h3 id="一个小tips"><a href="#一个小tips" class="headerlink" title="一个小tips"></a>一个小tips</h3><p>在创建按书名查询书籍时，按上述流程</p>
<ul>
<li><p>在Controller中新增函数</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按书名查询书籍</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/getBook/&#123;name&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">getBook</span><span class="params">(<span class="meta">@PathVariable</span> String name)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">Book</span> <span class="variable">book</span> <span class="operator">=</span> bookServiceImp.getBookByName(name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(book==<span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> Result.error(<span class="string">&quot;未找到书籍&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> Result.success(book);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在bookServiceImp中新增函数</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按书名查询书籍</span></span><br><span class="line"><span class="keyword">public</span> Book <span class="title function_">getBookByName</span><span class="params">(String name)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bookMapper.getBookByName(name);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>mybatis-plus中的函数中没有按name查询，则在bookMapper中添加对应函数</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按书名查询</span></span><br><span class="line"><span class="meta">@Select(&quot;select * from book where name=#&#123;name&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Book <span class="title function_">getBookByName</span><span class="params">(String name)</span>;</span><br></pre></td></tr></table></figure>


</li>
<li><p>执行时报了以下错误：</p>
  <img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240503054050954.png" alt="image-20240503054050954" style="zoom:80%;" /></li>
</ul>
<p>这是因为书籍有多个版本，查询时返回了多条数据，但在controller函数中期待的查询结果是一个对象，互相违背，故报错</p>
<ul>
<li>故在查询时，如果不能确定只有一个结果，最好统一返回值最好用List&lt;&gt;返回 ，比较稳妥</li>
</ul>
<h3 id="多条件查询"><a href="#多条件查询" class="headerlink" title="多条件查询"></a>多条件查询</h3><p>之前都是单条件查询，现尝试多条件查询</p>
<p>没有太大区别只是要注意，在mapper中写相应函数时，要给参数加上@Param(“参数名”)</p>
<p>如：</p>
<p>mapper中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按id和书名进行多条件查询</span></span><br><span class="line"><span class="meta">@Select(&quot;select * from book where id=#&#123;id&#125; and name=#&#123;name&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getBookByMore</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="type">int</span> id ,<span class="meta">@Param(&quot;name&quot;)</span> String name)</span>;</span><br><span class="line"><span class="comment">//这里@Param(&quot;id&quot;)和@Param(&quot;name&quot;)是给参数起名字，方便在sql语句中取值</span></span><br></pre></td></tr></table></figure>

<p>service中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getBookByMore</span><span class="params">(<span class="type">int</span> id , String name)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bookMapper.getBookByMore(id ,name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>controller中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//多条件查询，按name和价id查询</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/getBookByMore&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">getBook</span><span class="params">(<span class="meta">@RequestParam</span> <span class="type">int</span> id ,<span class="meta">@RequestParam</span> String name)</span> &#123;</span><br><span class="line"></span><br><span class="line">    List&lt;Book&gt; bookList = bookServiceImp.getBookByMore(id ,name);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(bookList.isEmpty())</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;未找到书籍&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> Result.success(bookList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="RequestParam与-PathVariable"><a href="#RequestParam与-PathVariable" class="headerlink" title="@RequestParam与@PathVariable"></a>@RequestParam与@PathVariable</h4><blockquote>
<p>@RequestParam与@PathVariable都是Spring框架中用于处理HTTP请求参数的注解，但它们处理参数的方式和位置不同：</p>
<ul>
<li>@RequestParam:<br>  用于获取URL中查询字符串（Query String）的参数，即HTTP请求URL中?后面键值对形式的数据。例如，对于URL <a target="_blank" rel="noopener" href="http://example.com/path?name=value%EF%BC%8C%E4%BD%A0%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8@RequestParam(%22name%22)%E6%9D%A5%E7%BB%91%E5%AE%9Avalue%E5%88%B0%E6%96%B9%E6%B3%95%E5%8F%82%E6%95%B0%E4%B8%8A%E3%80%82">http://example.com/path?name=value，你可以使用@RequestParam(&quot;name&quot;)来绑定value到方法参数上。</a><br>  如果请求参数是非必需的，可以通过required&#x3D;false属性指定，默认是true。<br>  支持直接从请求中获取数组或列表类型的数据，例如所有名为tags的查询参数可以被映射到一个字符串列表中。</li>
<li>@PathVariable:<br>  用于从URL路径段（Path Segment）中提取变量值。例如，对于URL <a target="_blank" rel="noopener" href="http://example.com/path/value%EF%BC%8C%E5%A6%82%E6%9E%9C%E4%BD%A0%E7%9A%84%E6%96%B9%E6%B3%95%E7%AD%BE%E5%90%8D%E4%B8%AD%E6%9C%89%E4%B8%80%E4%B8%AA@PathVariable(%22value%22)%E6%B3%A8%E8%A7%A3%EF%BC%8C%E9%82%A3%E4%B9%88value%E5%B0%86%E8%A2%AB%E5%A1%AB%E5%85%85%E4%B8%BA%E8%B7%AF%E5%BE%84%E4%B8%AD%E5%AF%B9%E5%BA%94%E7%9A%84%E5%80%BC%E3%80%82">http://example.com/path/value，如果你的方法签名中有一个@PathVariable(&quot;value&quot;)注解，那么value将被填充为路径中对应的值。</a><br>  这种方式常用于RESTful风格的接口设计，其中URL中的每个部分都有明确的语义。<br>  路径变量名称需要与URL模板中的占位符名称匹配。</li>
</ul>
<p>总结来说，@RequestParam关注于URL中的查询参数，而@PathVariable关注于URL路径本身的一部分。选择使用哪个取决于你希望如何结构化你的API以及参数如何传递。</p>
</blockquote>
<h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><ul>
<li><p>配置</p>
<ul>
<li><p>#查看系统config<br>  git config –system –list</p>
</li>
<li><p>#查看当前用户（global）配置<br>  git config –global  –list</p>
</li>
<li><p>配置提交信息</p>
<p>  git config –global user.name “ “  #名称<br>  git config –global user.email “ “   #邮箱</p>
</li>
</ul>
</li>
<li><p>gitee上创建项目</p>
</li>
<li><p>本地仓库连接到远程仓库 ： git remote add origin +项目地址(以.git结尾)</p>
</li>
<li><p>git remote -v 查看远端仓库，查看是否连接成功</p>
</li>
<li><p>提交代码</p>
<ul>
<li><p>在添加之前需要在.git同级目录下，添加文件.gitignore ，文件中的内容表示提交时需要忽略的文件</p>
<p>  例：</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.idea</span><br><span class="line">*.iml #表示所有以.iml结尾的文件</span><br><span class="line">node_modules</span><br></pre></td></tr></table></figure>
</li>
<li><p>git add .    表示将当前目录除了.gitignore描述之外的所有内容添加到暂存区，</p>
<ul>
<li>添加后 git status  ，查看状态，可查看暂存区新添加的文件</li>
<li>注意在git add .  时要注意当前仓库是否存在旧的仓库文件夹.git，如果有要删除掉</li>
</ul>
</li>
<li><p>git commit -m ‘初次提交’  </p>
<ul>
<li>将暂存区代码全部提交到本地仓库</li>
<li>-m 后加字符串表示提交信息</li>
</ul>
</li>
<li><p>git push  -u origin ‘master’</p>
<ul>
<li>推送代码到远端仓库</li>
<li>git push -f origin “master” 强制推送并覆盖远程仓库</li>
</ul>
</li>
</ul>
</li>
<li><p>在远程仓库有更新时，本地却没有及时将该更新拉取到本地，而是直接修改并试图push，则不允许push,显示错误</p>
<ul>
<li>需要先merge，将改变拉取到本地，再push本地更新到远程仓库</li>
<li><u>故在提交代码到远程仓库之前需要先更新远程仓库的代码到本地</u></li>
</ul>
</li>
<li><p>常用操作</p>
<ul>
<li>git branch <ul>
<li>列出本地所有分支</li>
</ul>
</li>
<li>git checkout -b “分支名”<ul>
<li>新建一个分支并切换到该分支</li>
</ul>
</li>
<li>git checkout “分支名”<ul>
<li>切换分支</li>
</ul>
</li>
<li>git merge 分支名<ul>
<li>merge其他分支到当前分支，即将其他分支的修改也更新到当前分支</li>
</ul>
</li>
</ul>
</li>
<li><p>在本地</p>
</li>
<li><p>git stash  暂存当前分支的修改仅限于该分支，切换到其他分支时，不影响其他分支</p>
</li>
<li><p>git stash pop 将暂存的修改弹出再恢复</p>
</li>
<li><p>git stash list 查看暂存内容</p>
</li>
<li><p>cherry pick 将其他分支某次提交的文件，下载到本分支</p>
</li>
</ul>
<h1 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h1><ul>
<li><p>运行vue</p>
<ul>
<li><p>vue create vue</p>
</li>
<li><p>cd vue</p>
</li>
<li><p>npm run serve</p>
</li>
</ul>
</li>
<li><p>项目结构：</p>
<ul>
<li><p>assets ：存放静态资源，如图盘，css ,js，html文件</p>
</li>
<li><p>components : 组件，存放组件文件，可作为整体被其他vue文件引用，import</p>
</li>
<li><p>router : 路由控制，通过path 和component属性 ，路由与页面的对应</p>
</li>
<li><p>views :存放不同路由对应的.vue文件，即不同路由页面的内容，我们也是主要在这里开发代码</p>
</li>
<li><p>main.js：定义全局参数，还有其他功能</p>
</li>
<li><p>vue.config.js：vue的主要配置文件</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#修改为如下，表示修改运行端口为本地7080</span><br><span class="line">const &#123; defineConfig &#125; = require(&#x27;@vue/cli-service&#x27;)</span><br><span class="line">module.exports = defineConfig(&#123;</span><br><span class="line">  transpileDependencies: true ,</span><br><span class="line">  devServer:&#123;</span><br><span class="line">    port: 7080</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<blockquote>
<p>每个vue文件中当且只能有一个<div></div>标签作为根节点，</p>
</blockquote>
<h2 id="Vue基本语法"><a href="#Vue基本语法" class="headerlink" title="Vue基本语法"></a>Vue基本语法</h2><p><a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/">介绍 — Vue.js (vuejs.org)</a></p>
<p>使用插值表达式 渲染 ,注意最好不要在插值表达式中写运算如num++</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;home&quot;&gt;</span><br><span class="line">    主页</span><br><span class="line">    &#123;&#123;name&#125;&#125;</span><br><span class="line">    &#123;&#123;age&#125;&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    </span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HomeView&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      name: &#x27;hahah&#x27;,</span><br><span class="line">      age : [1,2,3,4,5,6,7,8,9,10],</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p>v-html  html模版，渲染html</p>
<p>​	这个不咋用</p>
<p>v-model  绑定值，双向绑定</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;home&quot;&gt;</span><br><span class="line">    主页</span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; v-model=&quot;value&quot;&gt; </span><br><span class="line">        &lt;!--将输入框中的值与value值绑定在一起，并在下方输出value，则value会动态改变--&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;button @click=&quot;submit&quot;&gt;提交&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  	&lt;div&gt;</span><br><span class="line">        &#123;&#123;value&#125;&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HomeView&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      value: 12,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    submit()&#123;</span><br><span class="line">      alert(this.value)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<p>v-if  判断 ，仅当v-if内语句为真时才会渲染其中的内容,与之匹配使用还有v-else , v-else-if</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-if=&quot;name === &#x27;abc&#x27;&quot;&gt;abc&lt;/div&gt;</span><br><span class="line">&lt;div v-else&gt;hhh&lt;/div&gt;</span><br></pre></td></tr></table></figure>







<p>v-bind  简写：绑定属性与本地变量 , 如下示例，将超链接的href属性绑定到变量url ，可以动态修改超链接的目标地址</p>
<p>​	也可省略v-bing，简写只留下  ： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; v-model=&quot;url&quot;&gt;</span><br><span class="line">&lt;/div&gt;div&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;a href=&quot;http://www.baidu.com&quot;&gt;搜索一下&lt;/a&gt;</span><br><span class="line">  &lt;a v-bind:href = &quot;url&quot;&gt;搜索一下&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>









<p>v-on 事件绑定 ，将动作行为与函数绑定 ，可以通过函数修改某个变量值，从而动态修改页面属性 ，如点击事件</p>
<pre><code>  v-on缩写为@  
</code></pre>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;button @click=&quot;submit&quot;&gt;提交&lt;/button&gt;</span><br></pre></td></tr></table></figure>





<p>v-for循环 ,用于遍历 </p>
<p>​	例：遍历数组 fruits: [‘apple’,’banana’,’orange’]  ，（这里的key作用是 保证每个item的唯一性）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div v-for=&quot;(item,index) in fruits&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">    &#123;&#123;item&#125;&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>





<p>动态class ，style</p>
<h2 id="Element-ui"><a href="#Element-ui" class="headerlink" title="Element-ui"></a>Element-ui</h2><p><a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component">组件 | Element</a></p>
<ul>
<li><p>下载element-ui</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure>


</li>
<li><p>全局配置,需要在main.js文件中加入：</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">ElementUI</span> <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">ElementUI</span>);<span class="comment">//引入element-ui</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>在view文件夹中新建文件 element.vue,在index.js中为其设置路由</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> routes = [    </span><br><span class="line">	&#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;/element&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;element&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;../views/element-ui_test.vue&#x27;</span>)</span><br><span class="line">     &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><p>布局： el-row将页面分为24等份,这里el-col的span属性，表示该元素占父元素的百分比，gutter表示相邻el-row之间的间距</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-row gutter=&quot;20&quot;&gt;</span><br><span class="line">      &lt;el-col :span=&quot;12&quot;&gt; </span><br><span class="line">        &lt;div style=&quot;width: 100%;height: 300px;background-color: dodgerblue&quot;&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line"></span><br><span class="line">      &lt;el-col :span=&quot;12&quot;&gt;</span><br><span class="line">        &lt;div style=&quot;width: 100%;height: 300px;background-color: red&quot;&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>el-row 标签表示一行 ，</p>
<p>elo-col 标签表示一列</p>
</blockquote>
<ul>
<li><p>可以模仿京东商城中各个商品小格子</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-row&gt;</span><br><span class="line">      &lt;el-col :span=&quot;6&quot;&gt;</span><br><span class="line">        &lt;div style=&quot;padding: 10px ;border: 1px solid #ccc ;text-align: center&quot;&gt;</span><br><span class="line">          &lt;img style=&quot;width: 80%&quot; src=&quot;@/assets/logo.png&quot; &gt;</span><br><span class="line">          &lt;div style=&quot;text-align: center&quot;&gt;</span><br><span class="line">            这是描述</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">          &lt;div style=&quot;color: red&quot;&gt;</span><br><span class="line">            价格：￥100</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="按钮"><a href="#按钮" class="headerlink" title="按钮"></a>按钮</h3><p>element-ui有各种独特的按钮，可满足各种需要，除了下面展示还有朴素按钮，圆角按钮，圆形按钮等</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-row&gt;/</span><br><span class="line">      &lt;el-button&gt;默认按钮&lt;/el-button&gt; //element中组件标签都是以el开头，通过type选择按钮模式</span><br><span class="line">      &lt;el-button type=&quot;primary&quot;&gt;主要按钮&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;danger&quot;&gt;危险按钮&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button round&gt;圆角按钮&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button icon=&quot;el-icon-search&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>











<h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><p>表单由输入框、选择器、单选框、多选框等控件组成，用以收集、校验、提交数据,</p>
<p>表单是很重要的，其中用于输入数据，前端将数据封装发送到后端发出请求,</p>
<h4 id="输入框"><a href="#输入框" class="headerlink" title="输入框"></a>输入框</h4><ul>
<li>表单从最基础的输入框开始，注意</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row&gt;</span><br><span class="line">	&lt;el-col&gt;</span><br><span class="line">    	&lt;el-input&gt;</span><br><span class="line">        	请输入数据</span><br><span class="line">        &lt;/el-input&gt;</span><br><span class="line">    &lt;/el-col&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br></pre></td></tr></table></figure>

<p>这种输入框会占满整行且不会输入框中的值不会发生改变，因为Input 为受控组件，它<strong>总会显示 Vue 绑定值</strong>。</p>
<p>通常情况下，应当处理 <code>input</code> 事件，并更新组件的绑定值（或使用<code>v-model</code>）。否则，输入框内显示的值将不会改变。</p>
<p>不支持 <code>v-model</code> 修饰符。<strong>vue强制输入框要有v-model</strong></p>
<p>常用如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">        &lt;el-input  style=&quot;width: 200px&quot; v-model=&quot;value&quot; placeholder=&quot;请输入内容&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">    name: &#x27;Element&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            value : &#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>还有很多种形式的输入框 ，很多属性如 type,show-password,clearable</p>
<p>其中常用的是带有输入建议的输入框</p>
<ul>
<li>带有输入建议的输入框</li>
</ul>
<p>主要是使用 el-auto-complete 标签，这是element提供的可以自动补全的标签。</p>
<p>例1：这是输入后匹配输入建议</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-row style=&quot;margin: 20px 0&quot;&gt;</span><br><span class="line">      &lt;el-col&gt;</span><br><span class="line"></span><br><span class="line">        &lt;el-autocomplete </span><br><span class="line">          v-model = &quot;value&quot;</span><br><span class="line">          :fetch-suggestions=&quot;querySearch&quot;</span><br><span class="line">          placeholder=&quot;请输入内容&quot;</span><br><span class="line">          :trigger-on-focus=&quot;false&quot;&gt; #这里意思是不激活点击即列出输入建议</span><br><span class="line">        &lt;/el-autocomplete&gt;</span><br><span class="line"></span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">  name: &#x27;Element&#x27;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      value: &#x27;&#x27;,</span><br><span class="line">      coffees :[//返回值要是一个对象，其中包含必填值value</span><br><span class="line">        &#123;value:&#x27;1星巴克&#x27;&#125; ,</span><br><span class="line">        &#123;value :&#x27;2瑞幸&#x27;&#125; ,</span><br><span class="line">        &#123;value:&#x27;3库迪咖啡&#x27;&#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line"></span><br><span class="line">    querySearch(query ,cb)&#123;</span><br><span class="line">      //如果输入为空或不属于输入的数组，则返回所有值，如果输入的部分符合输入的数组，则返回包含输入的数组</span><br><span class="line">      let ret =  query ? this.coffees.filter(v =&gt; v.value.includes(query)) : this.coffees ;</span><br><span class="line">      //这里v是指遍历的数组中的每一个元素，如果query为空，则返回所有值，否则返回包含query的数组</span><br><span class="line"></span><br><span class="line">      cb(ret) ;// 调用 callback 返回建议列表的数据</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>fetch-suggestions&#x3D;”querySearch” 属性用于 Element UI (或 Element Plus) 的 el-autocomplete 组件。这个属性指定一个方法 (querySearch)，当用户在输入框中输入文字时，该方法会被调用。方法 querySearch 预期会执行一个异步操作，如查询后端 API，来获取与用户输入相关的建议数据。获取到数据后，通常会通过回调函数（通常作为参数传递）将这些数据返回给 el-autocomplete 组件，以便显示在下拉建议列表中。简而言之，此属性用于实现输入建议的自动检索与更新功能</p>
</blockquote>
<p>例2：这是激活即列出输入建议,只要将标签中的属性修改为如下即可，这种方式比较常用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-autocomplete</span><br><span class="line">    v-model=&quot;value&quot;</span><br><span class="line">    :fetch-suggestions=&quot;querySearch&quot;</span><br><span class="line">    placeholder=&quot;请输入内容&quot;</span><br><span class="line">    @select=&quot;handleSelect&quot;#这里意思是激活点击即列出输入建议</span><br><span class="line">&gt;&lt;/el-autocomplete&gt;</span><br></pre></td></tr></table></figure>



<blockquote>
<p>在Vue模板中：这俩意思差不多，也就是第一个把trigger-on-focus&#x3D;”true”就和第二个一样了<br>trigger-on-focus&#x3D;”true”：这个属性看起来像是自定义指令或组件的属性，意在指示当输入框获得焦点时（即用户点击或聚焦到输入框上），自动触发显示输入建议列表。不过，需要注意的是，Vue官方指令中并没有trigger-on-focus，这可能是某个第三方组件库或自定义组件特有的属性。<br>@select&#x3D;”handleSelect”：这是Vue事件绑定语法，用于监听select事件。当用户从输入建议列表中选择一项时，会触发handleSelect方法。handleSelect通常应定义在Vue实例的methods对象中，负责处理选中项后的逻辑，比如将选中的值赋给表单数据变量、执行进一步的数据处理等。</p>
</blockquote>
<h4 id="下拉框"><a href="#下拉框" class="headerlink" title="下拉框"></a>下拉框</h4><ul>
<li>最简单的下拉框，只需要选择字符串即可</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">	&lt;el-row&gt;</span><br><span class="line">     &lt;el-col&gt;</span><br><span class="line">         </span><br><span class="line">         &lt;el-select v-model = &#x27;select&#x27; @change = &#x27;changeSelect&#x27;&gt;</span><br><span class="line">            //将其绑定到变量select上，几乎所有的组件都需要v-model</span><br><span class="line">            //@就是v-on的简写，用于绑定事件,这里表示当下拉框的值改变时，触发事件changeSelect函数 (可根据需要写)</span><br><span class="line">          &lt;el-option value = &#x27;苹果&#x27;&gt;&lt;/el-option&gt;</span><br><span class="line">          &lt;el-option value = &#x27;香蕉&#x27;&gt;&lt;/el-option&gt;</span><br><span class="line">          &lt;el-option value = &#x27;橘子&#x27;&gt;&lt;/el-option&gt;</span><br><span class="line">        &lt;/el-select&gt;</span><br><span class="line">         </span><br><span class="line">     &lt;/el-col&gt;</span><br><span class="line">     &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li><p>如何将已有的对象数组设置到下拉框中 (利用v-for)</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-row style=&quot;margin: 20px 0&quot;&gt;</span><br><span class="line">      &lt;el-col&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;el-select v-model = &#x27;select&#x27; @change = &#x27;changeSelect&#x27;&gt;</span><br><span class="line">          &lt;el-option v-for = &#x27;item in coffees&#x27; :key = &#x27;item.id&#x27; :label = &#x27;item.value&#x27; :value = &#x27;item.value&#x27;&gt;</span><br><span class="line"></span><br><span class="line">          &lt;/el-option&gt;</span><br><span class="line">        &lt;/el-select&gt;</span><br><span class="line"></span><br><span class="line">      &lt;/el-col&gt;</span><br><span class="line">    &lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default&#123;</span><br><span class="line">  name: &#x27;Element&#x27;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      select : &#x27;&#x27; ,</span><br><span class="line">      coffees :[</span><br><span class="line">        &#123;id: 1 ,value : &#x27;星巴克&#x27;&#125; ,</span><br><span class="line">        &#123;id: 2 ,value : &#x27;瑞幸&#x27;&#125; ,</span><br><span class="line">        &#123;id: 3 ,value : &#x27;库迪咖啡&#x27;&#125;]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>v-for内容解析：</p>
<ul>
<li>v-for &#x3D; ‘item in coffees’: Vue中的v-for指令用于循环遍历数组（在这里是coffees数组）。对于数组中的每个元素，它创建一个副本，并将当前遍历到的元素赋值给变量item。这意味着这段代码会为coffees数组中的每个对象创建一个<el-option>。</li>
<li>:key &#x3D; ‘item.id’: 在列表渲染时，为每个节点提供一个唯一的键(key)是非常重要的，这有助于Vue更高效地跟踪每个节点的变化并进行DOM更新。这里使用item.id作为唯一标识，假设coffees数组中的每个对象都有一个唯一的id属性。<br> :label &#x3D; ‘item.value’: 这个绑定将<el-option>的显示文本设置为当前遍历项item的value属性。用户在下拉菜单中看到的就是这个value。</li>
<li>:value &#x3D; ‘item.value’: 设置<el-option>的实际值也是item.value。这意味着当用户从下拉菜单中选择一个选项时，表单或Vue实例中的绑定变量将会接收到这个value作为选定值。</li>
</ul>
<p>综上所述，这段代码的功能是动态生成一系列的下拉选项，每个选项的文本和值都来源于coffees数组中的对象的value属性，且每个选项都有一个基于id的唯一标识，以便Vue可以高效管理它们在DOM中的呈现与更新。</p>
</blockquote>
</li>
<li><p>下拉框也可支持多选 ，只要在el-select中加属性 multiple</p>
</li>
<li><p>可搜索filterable ,根据用户的输入，在label中搜索包含该字符串的项（常用），方便用户</p>
</li>
</ul>
<h4 id="单选框和多选框"><a href="#单选框和多选框" class="headerlink" title="单选框和多选框"></a>单选框和多选框</h4><ul>
<li><p>例如选择性别，男女</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-row&gt;</span><br><span class="line">      &lt;el-col&gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-radio-group v-model = &#x27;gender&#x27; @change = &#x27;setRadio&#x27;&gt;</span><br><span class="line">      &lt;el-radio label = &#x27;男&#x27;&gt;&lt;/el-radio&gt;</span><br><span class="line">      &lt;el-radio label = &#x27;女&#x27;&gt;&lt;/el-radio&gt;</span><br><span class="line">    &lt;/el-radio-group&gt;</span><br><span class="line">          </span><br><span class="line">  &lt;/el-col&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>多选</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;el-checkbox-group v-model=&quot;checkList&quot;&gt; //因为是多选，故checkList是一个数组</span><br><span class="line">    &lt;el-checkbox label=&quot;复选框 A&quot;&gt;&lt;/el-checkbox&gt;</span><br><span class="line">    &lt;el-checkbox label=&quot;复选框 B&quot;&gt;&lt;/el-checkbox&gt;</span><br><span class="line">    &lt;el-checkbox label=&quot;复选框 C&quot;&gt;&lt;/el-checkbox&gt;</span><br><span class="line">    &lt;el-checkbox label=&quot;禁用&quot; disabled&gt;&lt;/el-checkbox&gt;</span><br><span class="line">    &lt;el-checkbox label=&quot;选中且禁用&quot; disabled&gt;&lt;/el-checkbox&gt;</span><br><span class="line">  &lt;/el-checkbox-group&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="时间选择器"><a href="#时间选择器" class="headerlink" title="时间选择器"></a>时间选择器</h4><p><a target="_blank" rel="noopener" href="https://element.eleme.cn/#/zh-CN/component/time-picker">组件 | Element</a></p>
<p>注意要使时间按正确格式输出 ，加上属性：</p>
<p>年月日：value-format&#x3D;”yyyy-MM-dd” ，</p>
<p>年月日时分秒： “yyyy-MM-dd HH:mm:ss”</p>
<h4 id="日期选择器"><a href="#日期选择器" class="headerlink" title="日期选择器"></a>日期选择器</h4><p><u>日期时间都需要设置格式 value-format</u></p>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><p>表格绑定数组，将对象的属性名与el-table标签中的prop属性对应上，可动态渲染</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;el-table</span><br><span class="line">      :data=&quot;tableData&quot;</span><br><span class="line">      style=&quot;width: 100%&quot;&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop=&quot;date&quot;</span><br><span class="line">        label=&quot;日期&quot;</span><br><span class="line">        width=&quot;180&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">      &lt;el-table-column</span><br><span class="line">        prop=&quot;name&quot;</span><br><span class="line">        label=&quot;姓名&quot;</span><br><span class="line">        width=&quot;180&quot;&gt;</span><br><span class="line">      &lt;/el-table-column&gt;</span><br><span class="line">     </span><br><span class="line">    &lt;/el-table&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    export default &#123;</span><br><span class="line">      data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          tableData: [&#123; </span><br><span class="line">            date: &#x27;2016-05-02&#x27;,</span><br><span class="line">            name: &#x27;王小虎&#x27;</span><br><span class="line">          &#125;, &#123;</span><br><span class="line">            date: &#x27;2016-05-04&#x27;,</span><br><span class="line">            name: &#x27;王小龙&#x27;</span><br><span class="line">          &#125;]</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>





<h1 id="菜单栏"><a href="#菜单栏" class="headerlink" title="菜单栏"></a>菜单栏</h1><p>在element-ui中搜索menu，套模版即可</p>
<h3 id="提示信息"><a href="#提示信息" class="headerlink" title="提示信息"></a>提示信息</h3><h3 id="弹窗"><a href="#弹窗" class="headerlink" title="弹窗"></a>弹窗</h3><h3 id="vue项目"><a href="#vue项目" class="headerlink" title="vue项目"></a>vue项目</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Bj41167JM/?spm_id_from=333.788">https://www.bilibili.com/video/BV1Bj41167JM/?spm_id_from=333.788</a></p>
<h1 id="前后端数据交互"><a href="#前后端数据交互" class="headerlink" title="前后端数据交互"></a>前后端数据交互</h1><p>Vue结合springboot完成前后端数据交互</p>
<p>前端使用fetch发起请求</p>
<p>将从<a target="_blank" rel="noopener" href="http://localhost:8080/user/list%E7%9A%84%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE%E4%BD%9C%E4%B8%BAtableData">http://localhost:8080/user/list的请求数据作为tableData</a> ,动态渲染到页面上</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HomeView&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: []</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.load()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    load() &#123;</span><br><span class="line">        // 向目标url请求并将数据转化为json数据</span><br><span class="line">      fetch(&#x27;http://localhost:8080/user/list&#x27;).then(res =&gt; res.json()).then(res =&gt; &#123;</span><br><span class="line">        console.log(res)</span><br><span class="line">        this.tableData = res</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;，</span><br><span class="line">     deleteUser(id)&#123;</span><br><span class="line">      this.$confirm(&#x27;此操作将永久删除该用户, 是否继续?&#x27;, &#x27;提示&#x27;, &#123;</span><br><span class="line">        confirmButtonText: &#x27;确定&#x27;,</span><br><span class="line">        cancelButtonText: &#x27;取消&#x27;,</span><br><span class="line">        type: &#x27;warning&#x27;</span><br><span class="line">      &#125;).then(() =&gt; &#123;</span><br><span class="line">        fetch(&quot;http://localhost:9090/user/delete/&quot; + id,&#123;</span><br><span class="line">          method: &#x27;DELETE&#x27;     // 指定请求方式</span><br><span class="line">        &#125;).then(res =&gt; res.json()).then(res =&gt; &#123;</span><br><span class="line">          if(res.code != 200)&#123;</span><br><span class="line">            this.$message.error(res.msg)</span><br><span class="line">          &#125;else&#123;</span><br><span class="line">            this.$message.success(res.msg)</span><br><span class="line">            this.load()</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)   </span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<p>但更多的还是使用封装axios ,http请求工具JS</p>
<p>安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i axios -S</span><br></pre></td></tr></table></figure>



<p>在main.js中加入,加入全局配置，这样就不用每个文件都单独import request from “..&#x2F;utils&#x2F;request”;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">&#x27;./utils/request&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">request</span> = request</span><br></pre></td></tr></table></figure>







<p>在vue 中src新建utils包 ，在其中新建request.js文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">	<span class="attr">baseURL</span>: <span class="string">&#x27;http://localhost:9090&#x27;</span>,  <span class="comment">// 注意！！ 这里是全局统一加上了 &#x27;/api&#x27; 前缀，也就是说所有接口都会加上&#x27;/api&#x27;前缀在，页面里面写接口的时候就不要加 &#x27;/api&#x27;了，否则会出现2个&#x27;/api&#x27;，类似 &#x27;/api/api/user&#x27;这样的报错，切记！！！</span></span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// request 拦截器</span></span><br><span class="line"><span class="comment">// 可以自请求发送前对请求做一些处理</span></span><br><span class="line"><span class="comment">// 比如统一加token，对请求参数统一加密</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/json;charset=utf-8&#x27;</span>;</span><br><span class="line">  </span><br><span class="line"> <span class="comment">// config.headers[&#x27;token&#x27;] = user.token;  // 设置请求头</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// response 拦截器</span></span><br><span class="line"><span class="comment">// 可以在接口响应后统一处理结果</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> res = response.<span class="property">data</span>;</span><br><span class="line">        <span class="comment">// 兼容服务端返回的字符串数据</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> res === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">            res = res ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(res) : res</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;err&#x27;</span> + error) <span class="comment">// for debug</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request</span><br></pre></td></tr></table></figure>



<p>修改script:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;HomeView&#x27;</span>,</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">tableData</span>: [] ,</span><br><span class="line">      <span class="attr">total</span>: <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">load</span>()</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line">    <span class="title function_">load</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// fetch(&#x27;http://localhost:9090/user/page&#x27;).then(res =&gt; res.json()).then(res =&gt; &#123;</span></span><br><span class="line">      <span class="comment">//   console.log(res)</span></span><br><span class="line">      <span class="comment">//   this.tableData = res.data.list</span></span><br><span class="line">      <span class="comment">// &#125;)</span></span><br><span class="line"></span><br><span class="line">      request.<span class="title function_">get</span>(<span class="string">&#x27;/user/page&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="property">code</span> === <span class="string">&#x27;200&#x27;</span>)&#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">tableData</span> = res.<span class="property">data</span>.<span class="property">list</span></span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">total</span> = res.<span class="property">data</span>.<span class="property">total</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="跨域问题"><a href="#跨域问题" class="headerlink" title="跨域问题"></a>跨域问题</h2><p>在UserController上加注解 @CrossOrigin</p>
<p>[SpringBoot解决跨域问题_springboot跨域配置-CSDN博客](<a target="_blank" rel="noopener" href="https://blog.csdn.net/xqnode/article/details/120947462?ops_request_misc=%7B%22request_id%22:%22171967800416800222863200%22,%22scm%22:%2220140713.130102334..%22%7D&request_id=171967800416800222863200&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-120947462-null-null.142%5Ev100%5Epc_search_result_base1&utm_term=%E7%A8%8B%E5%BA%8F%E5%91%98%E9%9D%92%E6%88%88">https://blog.csdn.net/xqnode/article/details/120947462?ops_request_misc=%7B%22request%5Fid%22%3A%22171967800416800222863200%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=171967800416800222863200&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-120947462-null-null.142^v100^pc_search_result_base1&amp;utm_term=程序员青戈</a> 跨域&amp;spm&#x3D;1018.2226.3001.4187)</p>
<h1 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h1><p>SQL中实现分页查询主要是利用 limit 和offset ：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> sys_user LIMIT <span class="number">5</span> <span class="keyword">OFFSET</span> <span class="number">0</span> ;</span><br></pre></td></tr></table></figure>

<p>也可直接简写为(表示从序号0开始查出5个数据)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> sys_user LIMIT <span class="number">0</span> , <span class="number">5</span>;</span><br></pre></td></tr></table></figure>





<p>后端手写也很简单：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Map&lt;String,Object&gt; <span class="title function_">findPage</span><span class="params">(Integer pageNum, Integer pageSize)</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(pageNum == <span class="literal">null</span> || pageNum &lt; <span class="number">1</span>)</span><br><span class="line">            pageNum = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">start</span> <span class="operator">=</span> (pageNum-<span class="number">1</span>)*pageSize;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//总条数</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">totalNum</span> <span class="operator">=</span> userMapper.getTotal();</span><br><span class="line">        <span class="comment">//判断起始位置是否有效</span></span><br><span class="line">        <span class="keyword">if</span>(start &gt; totalNum)</span><br><span class="line">            start = totalNum;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查询出数据</span></span><br><span class="line">        List&lt;User&gt; data = userMapper.findPage(start,pageSize);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//因为每次查询时需要查看还有多少条数据，前端以显示相应页码，所以需要返回总条数</span></span><br><span class="line">        Map&lt;String,Object&gt; res = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        res.put(<span class="string">&quot;data&quot;</span> , userMapper.findPage(start,pageSize));</span><br><span class="line">        res.put(<span class="string">&quot;total&quot;</span> , userMapper.getTotal());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>





<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/565294670">【MybatisPlus】MP的分页查询、多条件查询以及查询过程中解决null的空值判定 - 知乎 (zhihu.com)</a></p>
<p>利用pagehelper</p>
<p><a target="_blank" rel="noopener" href="https://pagehelper.github.io/">MyBatis 分页插件 PageHelper</a></p>
<p>pom.xml中引入：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>UserService中， PageHelper.startPage()和return new PageInfo&lt;&gt;(参数);  参数位置填要分页的数据即可实现分页</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> PageInfo&lt;User&gt; <span class="title function_">page</span><span class="params">(BaseRequest baseRequest)</span> &#123;</span><br><span class="line">    PageHelper.startPage(baseRequest.getPageNum(), baseRequest.getPageSize());</span><br><span class="line">    List&lt;User&gt; users = userMapper.listByCondition(baseRequest);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PageInfo</span>&lt;&gt;(users);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>UserMapper中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; <span class="title function_">listByCondition</span><span class="params">(BaseRequest baseRequest)</span>;;</span><br></pre></td></tr></table></figure>



<p>xml文件中相应</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">根据条件查询用户列表</span></span><br><span class="line"><span class="comment">参数:</span></span><br><span class="line"><span class="comment">- name: 用户名，支持模糊查询</span></span><br><span class="line"><span class="comment">- phone: 电话号码，支持模糊查询</span></span><br><span class="line"><span class="comment">返回值: com.example.springboot.entity.User 类型的用户列表</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;listByCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.springboot.entity.User&quot;</span>&gt;</span></span><br><span class="line">    select * from user</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null and name != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            and name like concat(&#x27;%&#x27; , #&#123;name&#125;, &#x27;%&#x27;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;phone != null and phone != &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">            and phone like concat(&#x27;%&#x27; , #&#123;phone&#125;, &#x27;%&#x27;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>在vue文件template中插入分页插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;div style=&quot;margin-top: 20px&quot;&gt;  </span><br><span class="line">&lt;!--Attributes:</span><br><span class="line">  - background: 设置分页组件背景为白色。</span><br><span class="line">  - layout: 定义分页组件的布局，包含上一页、分页器、下一页。</span><br><span class="line">  - :current-page: 绑定当前页码，值为 params.pageNum。</span><br><span class="line">  - :page-size: 绑定每页显示的数量，值为 params.pageSize。</span><br><span class="line">  - :total: 绑定总数，这里绑定的是 total 变量，用于显示要展示的数据总数。</span><br><span class="line">  - @current-change: 当当前页发生变化时触发的事件，处理函数为 handleCurrentChange。</span><br><span class="line">  --&gt;</span><br><span class="line">  &lt;el-pagination</span><br><span class="line">      background</span><br><span class="line">      layout=&quot;prev, pager, next&quot;</span><br><span class="line">      :current-page=&quot;params.pageNum&quot;</span><br><span class="line">      :page-size=&quot;params.pageSize&quot;</span><br><span class="line">      :total=&quot;total&quot;</span><br><span class="line">      @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">      @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">  &gt;</span><br><span class="line">  &lt;/el-pagination&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>



<p>在Script中进行前后端数据交互,使用axios</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">// 导入请求工具</span><br><span class="line">import request from &quot;@/utils/request&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HomeView&#x27;, // 组件名称</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: [] , // 表格数据</span><br><span class="line">      total: 0, // 总记录数</span><br><span class="line">      params: &#123; // 请求参数</span><br><span class="line">        name : &#x27;&#x27;, // 用户名</span><br><span class="line">        phone: &#x27;&#x27;, // 电话号码</span><br><span class="line">        pageNum: 1, // 当前页码</span><br><span class="line">        pageSize: 5 // 每页记录数</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.load() // 组件创建时加载数据</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 加载数据方法</span><br><span class="line">    load() &#123;</span><br><span class="line">      // 发起get请求获取用户分页数据</span><br><span class="line">      request.get(&#x27;/user/page&#x27; ,&#123;</span><br><span class="line">        params: this.params// 将当前实例的params对象作为请求参数</span><br><span class="line">      &#125;).then(res =&gt; &#123;</span><br><span class="line">        if(res.code === &#x27;200&#x27;)&#123; // 请求成功</span><br><span class="line">          this.tableData = res.data.list // 更新表格数据</span><br><span class="line">          this.total = res.data.total // 更新总记录数</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    </span><br><span class="line">    // 分页当前页改变时的处理函数</span><br><span class="line">    handleCurrentChange(pageNum) &#123;</span><br><span class="line">      this.params.pageNum = pageNum // 更新当前页码</span><br><span class="line">      this.load() // 重新加载数据</span><br><span class="line">    &#125;，</span><br><span class="line">    </span><br><span class="line">    //改变分页的大小</span><br><span class="line">    handleSizeChange(pageSize) &#123;</span><br><span class="line">      this.pageSize = pageSize</span><br><span class="line">    </span><br><span class="line">      this.load()</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h1 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h1><p>进行模糊查询时注意Mapper中写的sql语句，例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//按书名进行模糊查询</span></span><br><span class="line"><span class="meta">@Select(&quot;select * from book where name like &#x27;%$&#123;name&#125;%&#x27;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Book&gt; <span class="title function_">getBookByNameLike</span><span class="params">(<span class="meta">@Param(&quot;name&quot;)</span> String name)</span>;</span><br></pre></td></tr></table></figure>



<p>也可以用mybatis-plus简化</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44259233/article/details/114235275">MyBatis-plus 查询 模糊查询的使用_mybatisplus模糊查询-CSDN博客</a></p>
<ul>
<li>实例：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV12Y4y1N7Sw/?p=4&spm_id_from=333.337.top_right_bar_window_history.content.click">4. 实现分页模糊查询_哔哩哔哩_bilibili</a></li>
</ul>
<p>根据条件进行模糊查询 </p>
<p>vue文件中template中增加输入框和搜索，重置按钮 ，记得输入框要用v-model绑定相应变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div style=&quot;margin-bottom: 20px&quot;&gt;</span><br><span class="line">      &lt;!-- 搜索条件：姓名输入框 --&gt;</span><br><span class="line">      &lt;el-input style=&quot;width: 240px&quot; v-model=&quot;params.name&quot; placeholder=&quot;请输入姓名&quot; &gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;!-- 搜索条件：联系方式输入框 --&gt;</span><br><span class="line">      &lt;el-input style=&quot;width: 240px&quot; margin-left=&quot;5px&quot; placeholder=&quot;请输入联系方式&quot; v-model=&quot;params.phone&quot; &gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;!-- 搜索按钮，点击触发加载数据的动作 --&gt;</span><br><span class="line">      &lt;el-button style=&quot;margin-left: 5px&quot; type=&quot;primary&quot; @click=&quot;load&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-search&quot; v-bind=&quot;search&quot; &gt;&lt;/i&gt;搜索</span><br><span class="line">      &lt;/el-button&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- 重置按钮，点击后重置搜索条件 --&gt;</span><br><span class="line">      &lt;el-button type=&quot;warning&quot; @click=&quot;reset&quot;&gt;</span><br><span class="line">        &lt;i class=&quot;el-icon-refresh&quot;&gt;&lt;/i&gt;</span><br><span class="line">        重置</span><br><span class="line">      &lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>在script中，定义相关函数和变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">import request from &quot;@/utils/request&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HomeView&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      tableData: [] ,</span><br><span class="line">      total: 0,</span><br><span class="line">      params: &#123; //用于进行匹配的对象，其中包括用于分页查询以及模糊查询匹配的参数信息</span><br><span class="line">        name : &#x27;&#x27;,</span><br><span class="line">        phone: &#x27;&#x27;,</span><br><span class="line">        pageNum: 1,</span><br><span class="line">        pageSize: 5</span><br><span class="line">      &#125;</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    this.load()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    load() &#123;</span><br><span class="line"></span><br><span class="line">      request.get(&#x27;/user/page&#x27; ,&#123;</span><br><span class="line">        params: this.params</span><br><span class="line">      &#125;).then(res =&gt; &#123;</span><br><span class="line">        if(res.code === &#x27;200&#x27;)&#123;</span><br><span class="line">          this.tableData = res.data.list</span><br><span class="line">          this.total = res.data.total</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    reset() &#123;</span><br><span class="line">      this.params = &#123;</span><br><span class="line">        name : &#x27;&#x27;,</span><br><span class="line">        phone: &#x27;&#x27;,</span><br><span class="line">        pageNum: 1,</span><br><span class="line">        pageSize: 5</span><br><span class="line">      &#125;</span><br><span class="line">      this.load()</span><br><span class="line">    &#125;,</span><br><span class="line">    handleCurrentChange(pageNum) &#123;</span><br><span class="line">      this.params.pageNum = pageNum</span><br><span class="line">      this.load()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>





<h1 id="前后端crud实现"><a href="#前后端crud实现" class="headerlink" title="前后端crud实现"></a>前后端crud实现</h1><h2 id="新增"><a href="#新增" class="headerlink" title="新增"></a>新增</h2><p>以实现新增user功能为例</p>
<p>前端：</p>
<ul>
<li><p>创建AddUser.vue，在其中创建表单，和提交，重置按钮，并绑定相关函数</p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div style=&quot;padding: 20px ;width: 80%&quot;&gt;</span><br><span class="line">    &lt;!-- 新增用户界面标题 --&gt;</span><br><span class="line">    &lt;h2&gt;</span><br><span class="line">      新增用户</span><br><span class="line">    &lt;/h2&gt;</span><br><span class="line">    &lt;!-- 表单，采用inline模式，以横向布局展示表单项，并通过model绑定form数据 --&gt;</span><br><span class="line">    &lt;el-form :inline=&quot;true&quot; :model=&quot;form&quot;  label-width=&quot;100px&quot;&gt;</span><br><span class="line">      &lt;!-- 姓名输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;姓名&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.name&quot; placeholder=&quot;请输入姓名&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 用户名输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;用户名&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.username&quot; placeholder=&quot;请输入用户名&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 性别下拉选择框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;性别&quot;&gt;</span><br><span class="line">        &lt;el-select v-model=&quot;form.sex&quot; placeholder=&quot;请选择性别&quot;&gt;</span><br><span class="line">          &lt;el-option label=&quot;男&quot; value=&quot;男&quot;&gt;&lt;/el-option&gt;</span><br><span class="line">          &lt;el-option label=&quot;女&quot; value=&quot;女&quot;&gt;&lt;/el-option&gt;</span><br><span class="line">        &lt;/el-select&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 年龄输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;年龄&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.age&quot; placeholder=&quot;请输入年龄&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 联系方式输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;联系方式&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.phone&quot; placeholder=&quot;请输入联系方式&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 地址输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;地址&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.address&quot; placeholder=&quot;请输入地址&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/el-form&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 操作按钮区域，包括新增和重置按钮 --&gt;</span><br><span class="line">    &lt;div style=&quot;margin-top: 20px ;text-align: center&quot;&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; @click=&quot;save&quot;&gt;新增&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;danger&quot; @click=&quot;reset&quot;&gt;重置&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import request from &quot;@/utils/request&quot;;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;addUser&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 表单数据初始化</span><br><span class="line">      form: &#123;</span><br><span class="line">        name: &#x27;&#x27;,</span><br><span class="line">        username : &#x27;&#x27;,</span><br><span class="line">        region: &#x27;&#x27;,</span><br><span class="line">        sex : &#x27;&#x27;,</span><br><span class="line">        age : &#x27;&#x27;,</span><br><span class="line">        phone : &#x27;&#x27;,</span><br><span class="line">        address : &#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    // 提交表单，保存用户信息</span><br><span class="line">    save() &#123;</span><br><span class="line">      request.post(&#x27;/user/save&#x27;,this.form).then(res =&gt; &#123;</span><br><span class="line">        if(res.code === &#x27;200&#x27;)&#123;</span><br><span class="line">          //页面显示新增成功消息</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &#x27;success&#x27;,</span><br><span class="line">            message: &#x27;新增成功&#x27;</span><br><span class="line">          &#125;);</span><br><span class="line">          // 提交成功后，跳转到用户列表页面</span><br><span class="line">          this.$router.push(&#x27;/user&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    // 重置表单，清空用户信息输入</span><br><span class="line">    reset() &#123;</span><br><span class="line">      this.form = &#123;</span><br><span class="line">        name: &#x27;&#x27;,</span><br><span class="line">        username : &#x27;&#x27;,</span><br><span class="line">        region: &#x27;&#x27;,</span><br><span class="line">        sex : &#x27;&#x27;,</span><br><span class="line">        age : &#x27;&#x27;,</span><br><span class="line">        phone : &#x27;&#x27;,</span><br><span class="line">        address : &#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>后端：</p>
<ul>
<li>在UserController中新建save方法用于新增用户</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//新增用户</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/save&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span><br><span class="line">&#123;</span><br><span class="line">    userService.save(user);</span><br><span class="line">    <span class="keyword">return</span> Result.success();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>在IUserService接口中新增save方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">save</span><span class="params">(User user)</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>在UserServicer中实现save方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(User user)</span> &#123;</span><br><span class="line">    userMapper.save(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>在UserMapper中新增save方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">save</span><span class="params">(User user)</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>在User.xml中写对应的sql语句</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;save&quot;</span>&gt;</span></span><br><span class="line">    insert into user (name,username, age, phone,address,createtime,updatetime,account,status)</span><br><span class="line">    values (#&#123;name&#125;, #&#123;username&#125;, #&#123;age&#125;, #&#123;phone&#125;, #&#123;address&#125;,&quot;2022-10-25 21:07:15&quot;,&quot;2022-10-25 21:07:15&quot;,</span><br><span class="line">            0, 1)</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>即可实现效果</p>
<h2 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h2><h3 id="后端数据展示在前端"><a href="#后端数据展示在前端" class="headerlink" title="后端数据展示在前端"></a>后端数据展示在前端</h3><p>实现:点击list中的User行后的修改按钮可以跳转到editUser页面，并将该id对应的信息展示到表单上，</p>
<p>前端：</p>
<ul>
<li>在展示user数据的行数据后插入编辑按钮</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 编辑按钮：当点击该按钮时，将会跳转到用户编辑页面，并通过查询参数传递用户ID。 --&gt;</span><br><span class="line">&lt;el-button type=&quot;primary&quot; size=&quot;mini&quot; </span><br><span class="line">           @click=&quot;$router.push(&#123;path:&#x27;/editUser&#x27;,query:&#123;id:scope.row.id&#125;&#125;)&quot;&gt;</span><br><span class="line">  编辑&lt;/el-button&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>新建editUser.vue界面 ，表单界面与AddUser.vue中相似</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div style=&quot;padding: 20px ;width: 80%&quot;&gt;</span><br><span class="line">    &lt;!-- 修改用户信息表单 --&gt;</span><br><span class="line">    &lt;h2&gt;修改用户信息&lt;/h2&gt;</span><br><span class="line">    &lt;el-form :inline=&quot;true&quot; :model=&quot;form&quot; label-width=&quot;100px&quot;&gt;</span><br><span class="line">      &lt;!-- 姓名输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;姓名&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.name&quot; placeholder=&quot;请输入姓名&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line"></span><br><span class="line">      &lt;!-- 性别下拉选择框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;性别&quot;&gt;</span><br><span class="line">        &lt;el-select v-model=&quot;form.sex&quot; placeholder=&quot;请选择性别&quot;&gt;</span><br><span class="line">          &lt;el-option label=&quot;男&quot; value=&quot;男&quot;&gt;&lt;/el-option&gt;</span><br><span class="line">          &lt;el-option label=&quot;女&quot; value=&quot;女&quot;&gt;&lt;/el-option&gt;</span><br><span class="line">        &lt;/el-select&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 年龄输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;年龄&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.age&quot; placeholder=&quot;请输入年龄&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 联系方式输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;联系方式&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.phone&quot; placeholder=&quot;请输入联系方式&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line">      &lt;!-- 地址输入框 --&gt;</span><br><span class="line">      &lt;el-form-item label=&quot;地址&quot;&gt;</span><br><span class="line">        &lt;el-input v-model=&quot;form.address&quot; placeholder=&quot;请输入地址&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">      &lt;/el-form-item&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/el-form&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>





<ul>
<li>实现根据跳转时的传入的id ，从后端查询到该id的相关数据，并展现在eidtUser页面</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import request from &quot;@/utils/request&quot;;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 编辑用户信息组件</span><br><span class="line"> */</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;EditUser&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      // 表单数据模型</span><br><span class="line">      form: &#123;</span><br><span class="line">        name: &#x27;&#x27;,</span><br><span class="line">        username : &#x27;&#x27;,</span><br><span class="line">        region: &#x27;&#x27;,</span><br><span class="line">        sex : &#x27;&#x27;,</span><br><span class="line">        age : &#x27;&#x27;,</span><br><span class="line">        phone : &#x27;&#x27;,</span><br><span class="line">        address : &#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created() &#123;</span><br><span class="line">    // 创建组件时，从服务器获取用户信息以填充表单</span><br><span class="line">    // get请求，向后端的发送请求并附带申请的数据行id </span><br><span class="line">    request.get(&#x27;/user/&#x27; + this.$route.query.id).then(res =&gt; &#123;</span><br><span class="line">      if(res.code === &#x27;200&#x27;)&#123;</span><br><span class="line">        this.form = res.data</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  methods:&#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>router下的index.js中添加该path</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">path</span>:<span class="string">&#x27;/editUser&#x27;</span>,</span><br><span class="line">  <span class="attr">name</span>:<span class="string">&#x27;EditUser&#x27;</span>,</span><br><span class="line">  <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/User/EditUser.vue&#x27;</span>),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>







<p>后端：</p>
<ul>
<li>在UserController中，新增getById 函数，</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据id查询用户 ， @PathVariable注解，意味着可以通过URL中的路径变量来传递ID值</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 通过用户服务，根据ID获取用户对象</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getById(id);</span><br><span class="line">    <span class="comment">// 返回成功的查询结果，包含用户信息</span></span><br><span class="line">    <span class="keyword">return</span> Result.success(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因这里id是主键，故可以确定查询的返回结果一定为一个User，直接用User接收，而不用LIst&lt;&gt;</p>
<ul>
<li>在IUserService接口中新增getById方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure>





<ul>
<li>在UserService中实现该方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> User <span class="title function_">getById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> userMapper.getById(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>在UserMapper中实现该方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">User <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>在User.xml文件中编写对应sql</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.springboot.entity.User&quot;</span>&gt;</span></span><br><span class="line">    select * from user where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>







<h3 id="前端修改后的数据提交到后端"><a href="#前端修改后的数据提交到后端" class="headerlink" title="前端修改后的数据提交到后端"></a>前端修改后的数据提交到后端</h3><p>以上只是实现了点击list中的User行后的修改按钮可以跳转到editUser页面，并将该id对应的信息展示到表单上，可以由用户修改</p>
<p>还需增加一个提交按钮，将修改后的数据提交到后端</p>
<p>前端</p>
<ul>
<li>在表单后新增提交按钮，并绑定事件update</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 提交按钮 --&gt;</span><br><span class="line">    &lt;div style=&quot;text-align: center&quot;&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; @click=&quot;update&quot; &gt;提交&lt;/el-button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>添加update函数，使用PUT请求将前端修改后的数据表单提交到后端，如果更新成功就弹出消息提示框并返回用户展示界面</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">   <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 更新用户信息</span></span><br><span class="line"><span class="comment">    * 无参数</span></span><br><span class="line"><span class="comment">    * 无返回值</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="title function_">update</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="comment">// 使用PUT请求更新用户信息，请求路径为“loacalhost:9090/user/update” ,并附带当前form对象信息</span></span><br><span class="line">     request.<span class="title function_">put</span>(<span class="string">&#x27;/user/update&#x27;</span>,<span class="variable language_">this</span>.<span class="property">form</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">       <span class="comment">// 请求成功后，根据返回码判断更新是否成功</span></span><br><span class="line">       <span class="keyword">if</span>(res.<span class="property">code</span> === <span class="string">&#x27;200&#x27;</span>)&#123;</span><br><span class="line">         <span class="comment">// 更新成功，显示成功消息并跳转回用户信息页面</span></span><br><span class="line">         <span class="variable language_">this</span>.$message(&#123;</span><br><span class="line">           <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">           <span class="attr">message</span>: <span class="string">&#x27;更新成功&#x27;</span></span><br><span class="line">         &#125;);</span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/user&#x27;</span>)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;,</span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>后端：</p>
<ul>
<li>在UserController中，新增update 函数，</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改用户信息</span></span><br><span class="line">    <span class="meta">@PutMapping(&quot;/update&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span></span><br><span class="line">    &#123;</span><br><span class="line">        userService.updateById(user);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>





<ul>
<li>在IUserService接口中新增updateById方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">updateById</span><span class="params">(User user)</span>;</span><br></pre></td></tr></table></figure>





<ul>
<li>在UserService中实现该方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateById</span><span class="params">(User user)</span> &#123;</span><br><span class="line">        user.setUpdateTime(<span class="keyword">new</span> <span class="title class_">Date</span>());<span class="comment">//这里是为了唯一的标识每个用户，由系统为每个用户按时间戳生成了username</span></span><br><span class="line">        userMapper.update(user);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV12Y4y1N7Sw/?p=5&spm_id_from=333.1007.top_right_bar_window_history.content.click">5. 后台CRUD_哔哩哔哩_bilibili</a></p>
<p>关于username的创建相关看该视频26+分钟开始</p>
</blockquote>
<ul>
<li>在UserMapper中实现该方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">update</span><span class="params">(User user)</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>在User.xml文件中编写对应sql</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span>&gt;</span></span><br><span class="line">    update user set name = #&#123;name&#125;,  age = #&#123;age&#125;, phone = #&#123;phone&#125;, address = #&#123;address&#125;,sex=#&#123;sex&#125;</span><br><span class="line">    where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>







<h2 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h2><ul>
<li>相比修改简单很多，在展示数据时增加删除按钮，绑定delete函数，并传递删除行的id，不需要新创建页面，在User.vue界面就可以</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-popconfirm</span><br><span class="line">    title=&quot;您确定删除该行数据吗？&quot;</span><br><span class="line">    @confirm=&quot;deleteUser(scope.row.id)&quot;&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">    这是一个嵌套在&lt;el-popconfirm&gt;内的&lt;el-button&gt;元素，用于触发删除操作。</span><br><span class="line">    &lt;el-popconfirm&gt;提供了一个确认删除的对话框，通过@onConfirm事件来响应确认操作。</span><br><span class="line">    deleteUser函数将被调用，传入当前行的id作为参数进行删除操作。</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;el-button type=&quot;danger&quot; size=&quot;mini&quot; slot=&quot;reference&quot; style=&quot;margin-left: 8px&quot;&gt;删除&lt;/el-button&gt;</span><br><span class="line">&lt;/el-popconfirm&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ul>
<li>script中的deleteUser函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">deleteUser</span>(<span class="params">id</span>)&#123;</span><br><span class="line"></span><br><span class="line">  request.<span class="title function_">delete</span>(<span class="string">&#x27;/user/delete/&#x27;</span>+id).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(res.<span class="property">code</span> === <span class="string">&#x27;200&#x27;</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.$message(&#123;</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;success&#x27;</span>,</span><br><span class="line">        <span class="attr">message</span>: <span class="string">&#x27;删除成功&#x27;</span></span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">load</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>后端也很好写~</p>
<h1 id="表单校验"><a href="#表单校验" class="headerlink" title="表单校验"></a>表单校验</h1><p>Form 组件提供了表单验证的功能，只需要通过 <code>rules</code> 属性传入约定的验证规则，并将 Form-Item 的 <code>prop</code> 属性设置为需校验的字段名即可</p>
<p>例：设置校验姓名</p>
<ul>
<li>设置表单校验规则</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form :inline=&quot;true&quot;</span><br><span class="line">         :model=&quot;form&quot;</span><br><span class="line">         :rules=&quot;rules&quot;</span><br><span class="line">         ref=&quot;form&quot;</span><br><span class="line">         label-width=&quot;100px&quot;  &gt;</span><br><span class="line">  &lt;!-- 表单元素将采用内联样式展示 --&gt;</span><br><span class="line">  &lt;!-- :inline=&quot;true&quot; 指定表单以内联形式展示 --&gt;</span><br><span class="line">  &lt;!-- :model=&quot;form&quot; 绑定表单的数据对象 --&gt;</span><br><span class="line">  &lt;!-- :rules=&quot;rules&quot; 绑定表单的校验规则 --&gt;</span><br><span class="line">  &lt;!-- ref=&quot;form&quot; 为表单元素设置一个引用名，可用于Vue实例中直接调用，比如 this.$refs.form --&gt;</span><br><span class="line">  &lt;!-- label-width=&quot;100px&quot; 设置表单标签的宽度 --&gt;</span><br><span class="line">&lt;/el-form&gt;</span><br></pre></td></tr></table></figure>







<ul>
<li>表单项中的姓名，添加prop&#x3D;“name” ,el-form-item的prop属性用于绑定数据模型，并且与el-form的:rules属性中的验证规则相对应。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-form-item label=&quot;姓名&quot; prop=&quot;name&quot;&gt;</span><br><span class="line">  &lt;el-input v-model=&quot;form.name&quot; placeholder=&quot;请输入姓名&quot;&gt;&lt;/el-input&gt;</span><br><span class="line">&lt;/el-form-item&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>设置校验规则rules</li>
</ul>
<p>script中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">form</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        username : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">region</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        sex : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        age : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        phone : <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        address : <span class="string">&#x27;&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">     <span class="comment">// 规则对象，用于表单验证</span></span><br><span class="line">      rules :&#123;</span><br><span class="line">        <span class="comment">// &#x27;name&#x27;字段的验证规则</span></span><br><span class="line">        <span class="attr">name</span>: [</span><br><span class="line">          &#123; <span class="attr">required</span>: <span class="literal">true</span>, <span class="attr">message</span>: <span class="string">&#x27;请输入姓名&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;, <span class="comment">// 规则1：必填项，失去焦点时验证</span></span><br><span class="line">          &#123; <span class="attr">min</span>: <span class="number">2</span>, <span class="attr">max</span>: <span class="number">10</span>, <span class="attr">message</span>: <span class="string">&#x27;长度在 2 到 10 个字符&#x27;</span>, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> &#125;, <span class="comment">// 规则2：长度限制，失去焦点时验证</span></span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>在数据提交时，设置为，不满足rules就无法提交</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">	save()&#123;</span><br><span class="line">    /**</span><br><span class="line">     * 保存表单数据</span><br><span class="line">     * 无参数</span><br><span class="line">     * 无返回值</span><br><span class="line">     */</span><br><span class="line">    save() &#123;</span><br><span class="line">      // 验证表单数据是否有效</span><br><span class="line">      this.$refs.form.validate((valid) =&gt; &#123;</span><br><span class="line">        if (valid) &#123;</span><br><span class="line">          // 如果表单数据有效，发送POST请求保存用户数据</span><br><span class="line">          request.post(&#x27;/user/save&#x27;,this.form).then(res =&gt; &#123;</span><br><span class="line">            if(res.code === &#x27;200&#x27;)&#123;</span><br><span class="line">              // 如果保存成功，显示成功消息，并重置表单字段</span><br><span class="line">              this.$message(&#123;</span><br><span class="line">                type: &#x27;success&#x27;,</span><br><span class="line">                message: &#x27;新增成功&#x27;</span><br><span class="line">              &#125;);</span><br><span class="line">              // this.$router.push(&#x27;/user&#x27;) // 注释掉的代码用于跳转到用户列表页面</span><br><span class="line">              this.$refs.form.resetFields();</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          // 如果表单数据无效，显示错误消息</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &#x27;error&#x27;,</span><br><span class="line">            message: &#x27;提交失败&#x27;</span><br><span class="line">          &#125;);</span><br><span class="line">          return false;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<p>自定义校验方式</p>
<p>例：校验手机号格式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 校验手机号码是否合法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> rule 验证规则对象，通常包含验证的条件等信息</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value 待校验的手机号码字符串</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> callback 验证回调函数，用于返回验证结果</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">checkPhone</span> = (<span class="params">rule, value, callback</span>) =&gt; &#123;</span><br><span class="line">      <span class="comment">// 使用正则表达式校验手机号码格式是否正确</span></span><br><span class="line">      <span class="keyword">if</span> (!<span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>.<span class="title function_">test</span>(value)) &#123;</span><br><span class="line">        <span class="comment">// 如果手机号码格式不正确，通过callback函数返回错误信息</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">callback</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;请输入合法的联系方式&#x27;</span>));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span>&#123;</span><br><span class="line">        <span class="attr">rules</span>:&#123;</span><br><span class="line">        <span class="comment">// 验证器规则定义：针对电话号码的验证</span></span><br><span class="line">        <span class="attr">phone</span>: [</span><br><span class="line">                 &#123; </span><br><span class="line">                    <span class="comment">// checkPhone 函数用于验证电话号码是否符合要求</span></span><br><span class="line">                    <span class="comment">// trigger: &#x27;blur&#x27; 指定在输入框失焦时触发验证</span></span><br><span class="line">                    <span class="attr">validator</span>: checkPhone, <span class="attr">trigger</span>: <span class="string">&#x27;blur&#x27;</span> </span><br><span class="line">                 &#125;,</span><br><span class="line">        	],</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<p>校验年龄时，数据绑定强制为数字值number，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v-model.number=&quot;form.age&quot; </span><br></pre></td></tr></table></figure>

<p>或用正则表达式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if(!/^[0-9]+$/.test(value))&#123;</span><br><span class="line">	callback(new Error(&#x27;请输入数字值&#x27;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h1 id="登录前后台"><a href="#登录前后台" class="headerlink" title="登录前后台"></a>登录前后台</h1><h1 id="前端实现"><a href="#前端实现" class="headerlink" title="前端实现"></a>前端实现</h1><p>新增 login.vue ,登录界面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div style=&quot;height: 100vh ; overflow: hidden ; &quot;   &gt;</span><br><span class="line">    &lt;div style=&quot;width: 500px; height: 400px;background-color: white; border-radius: 10px; margin: 150px auto;</span><br><span class="line">      padding: 50px&quot;&gt;</span><br><span class="line">      &lt;div style=&quot;margin: 30px; text-align: center; font-size: 30px; font-weight: bold; color: dodgerblue&quot;&gt;登 录&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      &lt;el-form :model=&quot;admin&quot; ref=&quot;loginForm&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;el-form-item prop=&quot;username&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;admin.username&quot; placeholder=&quot;请输入用户名&quot; size=&quot;medium&quot; prefix-icon=&quot;el-icon-user&quot; /&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item prop=&quot;password&quot;&gt;</span><br><span class="line">          &lt;el-input v-model=&quot;admin.password&quot; placeholder=&quot;请输入密码&quot; show-password prefix-icon=&quot;el-icon-lock&quot; /&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line">        &lt;el-form-item&gt;</span><br><span class="line">          &lt;el-button type=&quot;primary&quot; @click=&quot;login&quot; style=&quot;width: 100% &quot; size=&quot;medium&quot;&gt;登录&lt;/el-button&gt;</span><br><span class="line">        &lt;/el-form-item&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      &lt;/el-form&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import request from &quot;@/utils/request&quot;;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;Login&#x27;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      admin: &#123;</span><br><span class="line">        username: &#x27;&#x27;,</span><br><span class="line">        password: &#x27;&#x27;</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    login() &#123;</span><br><span class="line">      request.post(&#x27;/admin/login&#x27;, this.admin).then(response =&gt; &#123;</span><br><span class="line">        if (response.code === &#x27;200&#x27;) &#123;</span><br><span class="line">          console.log(&#x27;登录成功&#x27;)</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &#x27;success&#x27;,</span><br><span class="line">            message: &#x27;登录成功&#x27;</span><br><span class="line">          &#125;)</span><br><span class="line">          this.$router.push(&#x27;/home&#x27;)</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          this.$message(&#123;</span><br><span class="line">            type: &#x27;error&#x27;,</span><br><span class="line">            message: &#x27;登录失败&#x27;</span><br><span class="line">          &#125;)</span><br><span class="line">          this.$notify.error(response.msg)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>修改路由配置  router.js ，</li>
</ul>
<blockquote>
<p><router-view>并不只限于展示一级路由。实际上，它支持多级（嵌套）路由的展示。要实现嵌套路由，你需要在Vue Router的配置中为父路由添加children属性，列出其下属的子路由。当访问一个嵌套路径时，相应的子<router-view>会插入到父<router-view>所在的位置，展示子路由对应的组件。<br>例如，如果你的路由配置如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">const</span> routes = [</span><br><span class="line"> &#123;</span><br><span class="line">   <span class="attr">path</span>: <span class="string">&#x27;/parent&#x27;</span>,</span><br><span class="line">   <span class="attr">component</span>: <span class="title class_">ParentComponent</span>,</span><br><span class="line">   <span class="attr">children</span>: [</span><br><span class="line">     &#123;</span><br><span class="line">       <span class="attr">path</span>: <span class="string">&#x27;child&#x27;</span>,</span><br><span class="line">       <span class="attr">component</span>: <span class="title class_">ChildComponent</span>,</span><br><span class="line">     &#125;,</span><br><span class="line">   ],</span><br><span class="line"> &#125;,</span><br><span class="line">&gt;];</span><br></pre></td></tr></table></figure>

<p>在这种配置下，当访问&#x2F;parent&#x2F;child路径时，ParentComponent会在最外层的<router-view>中渲染，而ChildComponent则会在ParentComponent模板内部的另一个<router-view>中渲染，如果有的话。这样就可以实现多级路由的展示了。</p>
</blockquote>
<p>故为了实现login界面与用户界面分离，一级路由只设置 ‘&#x2F;login’ 和’&#x2F;‘ ,</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">HomeView</span> <span class="keyword">from</span> <span class="string">&#x27;../views/Home/HomeView.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Layout</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Layout/Layout.vue&quot;</span>;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> routes = [</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 登录</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;Login&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/Login/Login.vue&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">path</span>: <span class="string">&#x27;/&#x27;</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">    <span class="attr">component</span>: <span class="title class_">Layout</span>,</span><br><span class="line">    <span class="attr">redirect</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line">    <span class="attr">children</span>:[<span class="comment">// 子路由</span></span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;home&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="title class_">HomeView</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">        </span><br><span class="line">      <span class="comment">// 用户</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;userList&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;UserList&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;@/views/User/User.vue&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;addUser&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;AddUser&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/User/AddUser.vue&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;editUser&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;EditUser&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/User/EditUser.vue&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 管理员</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;adminList&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;AdminList&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">()=&gt;</span><span class="keyword">import</span>(<span class="string">&#x27;@/views/Admin/AdminList.vue&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;addAdmin&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;AddAdmin&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/Admin/AddAdmin.vue&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">path</span>:<span class="string">&#x27;editAdmin&#x27;</span>,</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&#x27;EditAdmin&#x27;</span>,</span><br><span class="line">        <span class="attr">component</span>: <span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&#x27;@/views/Admin/EditAdmin.vue&#x27;</span>),</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">  <span class="attr">base</span>: process.<span class="property">env</span>.<span class="property">BASE_URL</span>,</span><br><span class="line">  routes</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure>



<p>app.vue只留下router-view</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure>





<h2 id="后台登录实现："><a href="#后台登录实现：" class="headerlink" title="后台登录实现："></a>后台登录实现：</h2><ul>
<li>在AdminController中新增login函数，返回信息包含查询到的admin相关信息</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//登录</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> LoginRequest request)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">LoginDTO</span> <span class="variable">admin1</span> <span class="operator">=</span> adminService.login(request);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (admin1 == <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;用户名或密码错误&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result.success(admin1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>这里新增了LoginRequest类，用于接受登录请求，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginRequest</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>新增dto包，其中新增loginDTO 类，作为登录请求的返回类，<u>不建议直接返回Admin类，因为其中包含了password，最好不要向前端返回包含密码的信息</u></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginDTO</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<ul>
<li>在IAdminService接口中新增login方法，在AdminService中新增login方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 根据用户名和密码获取管理员信息并返回登录DTO。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> request 包含用户名和密码的登录请求</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 如果登录成功，返回包含管理员ID、用户名、电话和电子邮件的LoginDTO对象；否则返回null。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> LoginDTO <span class="title function_">login</span><span class="params">(Request request)</span> &#123;</span><br><span class="line">    <span class="type">Admin</span> <span class="variable">admin</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 尝试根据用户名和密码从数据库获取管理员信息</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">         admin = adminMapper.getByUsernameAndPassword(request);</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">        log.error(<span class="string">&quot;登录出现异常&quot;</span>);<span class="comment">// 记录登录异常</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 如果成功获取到管理员信息，创建并返回LoginDTO对象</span></span><br><span class="line">    <span class="keyword">if</span> (admin != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="type">LoginDTO</span> <span class="variable">dto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LoginDTO</span>();</span><br><span class="line">        dto.setId(admin.getId());</span><br><span class="line">        dto.setUsername(admin.getUsername());</span><br><span class="line">        dto.setPhone(admin.getPhone());</span><br><span class="line">        dto.setEmail(admin.getEmail());</span><br><span class="line">        <span class="keyword">return</span> dto;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果未获取到管理员信息，返回null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>log.error() ，调用了日志库中的log.error()方法，用于记录一个错误信息。</p>
<p>需要在AdminService中引入注解： @Slf4j      </p>
</blockquote>
<ul>
<li>AdminMapper中新增getByUsernameAndPassword方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Admin <span class="title function_">getByUsernameAndPassword</span><span class="params">(LoginRequest loginRequest)</span>;</span><br></pre></td></tr></table></figure>



<ul>
<li>Admin.xml中写相应查询语句</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getByUsernameAndPassword&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.springboot.entity.Admin&quot;</span>&gt;</span></span><br><span class="line">    select * from admin where username = #&#123;username&#125; and password = #&#123;password&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>





<p>这样可以用postman验证，但这种方法并不好，Service层是处理业务的，这里将返回的信息的业务异常处理逻辑（判断admin1是不是null），   应该在Service层中处理，而不应该在Contoller层中实现， 但是也无法直接就在业务层返回Result对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> LoginRequest request)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">LoginDTO</span> <span class="variable">admin1</span> <span class="operator">=</span> adminService.login(request);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (admin1 == <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> Result.error(<span class="string">&quot;用户名或密码错误&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result.success(admin1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>故要引入全局异常处理</p>
<h1 id="全局异常处理"><a href="#全局异常处理" class="headerlink" title="全局异常处理"></a>全局异常处理</h1><p>Springboot对于异常的处理也做了不错的支持，它提供了一个 <strong>@ControllerAdvice</strong>注解以及 <strong>@ExceptionHandle</strong>r注解，前者是用来<strong>开启全局的异常捕获</strong>，后者则是说明<strong>捕获哪些异常</strong>，对那些异常进行处理。</p>
<p>自定义异常以及它携带的信息，在出错的地方抛出，由全局异常处理捕获后通知Controller接口</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/swzx-1213/p/12781836.html">SpringBoot系列（十）优雅的处理统一异常处理与统一结果返回 - 全栈学习笔记 - 博客园 (cnblogs.com)</a></p>
<p>新建exception包，新建ExceptionHandle.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 全局异常处理类，用于捕获并处理RESTful API中发生的异常。</span></span><br><span class="line"><span class="comment"> * 使用<span class="doctag">@Slf</span>4j注解记录日志，<span class="doctag">@RestControllerAdvice</span>注解使其成为一个全局异常处理器。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionHandle</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理自定义业务异常。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> e ServiceException 异常实例，封装了业务错误信息。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 返回一个表示错误信息的Result对象。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(value = ServiceException.class)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">serviceExceptionError</span><span class="params">(ServiceException e)</span> &#123;</span><br><span class="line">        <span class="comment">// 记录业务异常日志</span></span><br><span class="line">        log.error(<span class="string">&quot;业务异常&quot;</span>, e);</span><br><span class="line">        <span class="comment">// 返回具体的业务错误信息</span></span><br><span class="line">        <span class="keyword">return</span>  Result.error(e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 处理未被捕获的通用异常。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> e Exception 异常实例，表示发生了未知错误。</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> 返回一个表示系统错误的Result对象。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(value = Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">exceptionError</span><span class="params">(Exception e)</span> &#123;</span><br><span class="line">        <span class="comment">// 记录系统异常日志</span></span><br><span class="line">        log.error(<span class="string">&quot;系统异常&quot;</span>, e);</span><br><span class="line">        <span class="comment">// 返回通用的系统错误信息</span></span><br><span class="line">        <span class="keyword">return</span>  Result.error(<span class="string">&quot;系统错误&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>则此时可以修改AdminController中login函数，这里无需业务处理的相关逻辑，直接返回即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> LoginRequest request)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">LoginDTO</span> <span class="variable">admin1</span> <span class="operator">=</span> adminService.login(request);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(admin1);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>在AdminService中login函数，</p>
<p>当出现未查询到Admin时（即用户名与密码不匹配时），后端抛出ServiceException异常，内容为”用户名或密码错了”，由捕获异常类捕获该类异常并由ExceptionHandler处理，向接收请求的Controller返回处理结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> LoginDTO <span class="title function_">login</span><span class="params">(LoginRequest request)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Admin</span> <span class="variable">admin</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        admin = adminMapper.getByUsernameAndPassword(request);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (admin == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(<span class="string">&quot;用户名或密码错了&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">LoginDTO</span> <span class="variable">dto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LoginDTO</span>();</span><br><span class="line">        dto.setId(admin.getId());</span><br><span class="line">        dto.setUsername(admin.getUsername());</span><br><span class="line">        dto.setPhone(admin.getPhone());</span><br><span class="line">        dto.setEmail(admin.getEmail());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dto;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>









<h1 id="Swagger-API"><a href="#Swagger-API" class="headerlink" title="Swagger API"></a>Swagger API</h1><p>比postman更好用</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/interest_ing_/article/details/136521887">Spring Boot 3项目集成Swagger3教程_springboot3 swagger-CSDN博客</a></p>
<h1 id="登录和数据安全"><a href="#登录和数据安全" class="headerlink" title="登录和数据安全"></a>登录和数据安全</h1><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><p>js-cookie的使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//安装js-Cookie</span><br><span class="line">npm i js-cookie -S</span><br><span class="line"></span><br><span class="line">// 导入使用</span><br><span class="line"></span><br><span class="line">import Cookies from &#x27;js-cookie&#x27;</span><br><span class="line"></span><br><span class="line">Cookies.set(&#x27;user&#x27;, obj)  // 默认失效时间为该网站关闭时</span><br><span class="line">Cookies.set(&#x27;user&#x27;, obj, &#123; expires: 1 &#125;)  // 1天过期</span><br><span class="line"></span><br><span class="line">Cookies.get(&#x27;user&#x27;)  // 获取cookie数据</span><br><span class="line"></span><br><span class="line">Cookies.remove(&#x27;user&#x27;)  // 删除cookie数据</span><br></pre></td></tr></table></figure>



<p>要设置只有登录后才能访问出’&#x2F;login’以外的路径，首先使用Cookies将登录信息保存在浏览器中</p>
<ul>
<li>在登录界面：login函数中 ， 如果登录成功()，将后端返回的用户相关的信息保存在浏览器Cookies中，再this.$router.push(‘&#x2F;home’) ，跳转到登录界面，</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(response.<span class="property">data</span> != <span class="literal">null</span>)&#123;</span><br><span class="line">  <span class="title class_">Cookies</span>.<span class="title function_">set</span>(<span class="string">&#x27;admin&#x27;</span> , <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(response.<span class="property">data</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Cookies文件如图</p>
<ul>
<li>在退出登录时，将对应的Cookies删除</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">logout</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Cookies</span>.<span class="title function_">remove</span>(<span class="string">&#x27;admin&#x27;</span>)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>







<ul>
<li><p>使用Cookies,</p>
<p>  例：将Cookies中信息展示到homeview中</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"> 模板</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;!-- 主页面标题 --&gt;</span><br><span class="line">    &lt;h1&gt;this is home view&lt;/h1&gt;</span><br><span class="line">    &lt;!-- 显示管理员用户名 --&gt;</span><br><span class="line">    &lt;div&gt;&#123;&#123;admin.username&#125;&#125;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 导入请求工具和Cookies处理库</span><br><span class="line">import request from &quot;@/utils/request&quot;;</span><br><span class="line">import Cookies from &quot;js-cookie&quot;;</span><br><span class="line"></span><br><span class="line">// HomeView组件定义</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &#x27;HomeView&#x27;,</span><br><span class="line">  // 组件数据初始化</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      admin: &#123;&#125; // 用于存储管理员信息</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // 组件创建生命周期钩子</span><br><span class="line">  created() &#123;</span><br><span class="line">    // 检查Cookies中是否存在管理员信息，若不存在则重定向到登录页</span><br><span class="line">    if( ! Cookies.get(&#x27;admin&#x27;))&#123;</span><br><span class="line">      this.$router.push(&#x27;/login&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 从Cookies中解析并设置管理员信息</span><br><span class="line">    this.admin = JSON.parse(Cookies.get(&#x27;admin&#x27;))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="登录屏障"><a href="#登录屏障" class="headerlink" title="登录屏障"></a>登录屏障</h2><p>统一处理： 检查Cookies中是否存在管理员信息，若不存在则重定向到登录页，修改request.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&#x27;axios&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Cookies</span> <span class="keyword">from</span> <span class="string">&quot;js-cookie&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;@/router&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> request = axios.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">baseURL</span>: <span class="string">&#x27;http://localhost:9090&#x27;</span>,  <span class="comment">// 注意！！ 这里是全局统一加上了 &#x27;/api&#x27; 前缀，也就是说所有接口都会加上&#x27;/api&#x27;前缀在，页面里面写接口的时候就不要加 &#x27;/api&#x27;了，否则会出现2个&#x27;/api&#x27;，类似 &#x27;/api/api/user&#x27;这样的报错，切记！！！</span></span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// request 拦截器</span></span><br><span class="line"><span class="comment">// 可以自请求发送前对请求做一些处理</span></span><br><span class="line"><span class="comment">// 比如统一加token，对请求参数统一加密</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">    config.<span class="property">headers</span>[<span class="string">&#x27;Content-Type&#x27;</span>] = <span class="string">&#x27;application/json;charset=utf-8&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//检查用户是否为管理员，若不是则跳转到登录页</span></span><br><span class="line">    <span class="comment">// 如果当前路径不是登录页面才跳转到登录页面，否则若密码输入错误会发生跳转错误</span></span><br><span class="line">    <span class="keyword">if</span>(router.<span class="property">currentRoute</span>.<span class="property">path</span> !== <span class="string">&#x27;/login&#x27;</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!admin)&#123;</span><br><span class="line">            router.<span class="title function_">push</span>(<span class="string">&#x27;/login&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// config.headers[&#x27;token&#x27;] = user.token;  // 设置请求头</span></span><br><span class="line">    <span class="keyword">return</span> config</span><br><span class="line">&#125;, <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// response 拦截器</span></span><br><span class="line"><span class="comment">// 可以在接口响应后统一处理结果</span></span><br><span class="line">request.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(</span><br><span class="line">    <span class="function"><span class="params">response</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> res = response.<span class="property">data</span>;</span><br><span class="line">        <span class="comment">// 兼容服务端返回的字符串数据</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> res === <span class="string">&#x27;string&#x27;</span>) &#123;</span><br><span class="line">            res = res ? <span class="title class_">JSON</span>.<span class="title function_">parse</span>(res) : res</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;err&#x27;</span> + error) <span class="comment">// for debug</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error)</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> request</span><br></pre></td></tr></table></figure>





<h2 id="密码加密"><a href="#密码加密" class="headerlink" title="密码加密"></a>密码加密</h2><p> 为了对密码加密防止在数据库中直接展示用户的密码，对密码使用md-5加密后再存储到数据库中，在验证密码时也对密码加密来与数据库中内容对比，</p>
<p>在AdminService中修改新增和登录验证函数如下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AdminService</span> <span class="keyword">implements</span> <span class="title class_">IAdminService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">PASS_SALT</span> <span class="operator">=</span> <span class="string">&quot;BUPT_WANGAN&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AdminMapper adminMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Admin admin)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (adminMapper.getByUsername(admin.getUsername()) ) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(<span class="string">&quot;用户名已存在&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> admin.getPassword();</span><br><span class="line">            admin.setPassword(encrypher_password_md5(password));<span class="comment">//设置md5加密,加盐</span></span><br><span class="line"></span><br><span class="line">            adminMapper.save(admin);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> LoginDTO <span class="title function_">login</span><span class="params">(LoginRequest request)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Admin</span> <span class="variable">admin</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        request.setPassword(encrypher_password_md5(request.getPassword()));<span class="comment">//设置md5加密,加盐</span></span><br><span class="line"></span><br><span class="line">        admin = adminMapper.getByUsernameAndPassword(request);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (admin == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(<span class="string">&quot;用户名或密码错了&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">LoginDTO</span> <span class="variable">dto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LoginDTO</span>();</span><br><span class="line">        dto.setId(admin.getId());</span><br><span class="line">        dto.setUsername(admin.getUsername());</span><br><span class="line">        dto.setPhone(admin.getPhone());</span><br><span class="line">        dto.setEmail(admin.getEmail());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> dto;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">encrypher_password_md5</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> SecureUtil.md5(password + PASS_SALT);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<h2 id="router-路由守卫"><a href="#router-路由守卫" class="headerlink" title="router 路由守卫"></a>router 路由守卫</h2><p>router下的index.js ,在后面新增路由守卫函数用于检测用户是否登录</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 路由守卫函数，用于判断用户是否登录。</span></span><br><span class="line"><span class="comment"> * 当用户尝试访问特定路由时，此函数会检查用户是否已登录。</span></span><br><span class="line"><span class="comment"> * 如果已登录，允许用户访问；如果没有登录，重定向到登录页。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">to</span> - 导航守卫的路由对象，表示用户试图访问的目标路由。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">from</span> - 导航守卫的路由对象，表示用户当前所在的路由。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Function</span>&#125; <span class="variable">next</span> - 调用该函数可将导航切换到另一个路由。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">path</span>===<span class="string">&#x27;/login&#x27;</span>)&#123;</span><br><span class="line">  <span class="title function_">next</span>() <span class="comment">// 如果用户试图访问的路径是登录页，则直接放行</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="title class_">Cookies</span>.<span class="title function_">get</span>(<span class="string">&#x27;admin&#x27;</span>))&#123;</span><br><span class="line">    <span class="title function_">next</span>() <span class="comment">// 如果用户已登录（通过cookie检查），则放行</span></span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="title function_">next</span>(<span class="string">&#x27;/login&#x27;</span>) <span class="comment">// 如果用户未登录，则重定向到登录页</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>但在前端可以自己向cookie中添加数据，这样也可以直接访问屏障内的内容，</p>
<img src="C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20240517135247646.png" alt="image-20240517135247646" style="zoom:50%;" />





<p>把数据安全只放在前端是不可行 的，需要用到后台 ，前端登录时，要后台发送一个凭证，拥有凭证前端才能访问数据，</p>
<p>引入JWT</p>
<h2 id="404页面"><a href="#404页面" class="headerlink" title="404页面"></a>404页面</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"> // 登录</span><br><span class="line">&#123;</span><br><span class="line">  path:&#x27;/login&#x27;,</span><br><span class="line">  name:&#x27;Login&#x27;,</span><br><span class="line">  component: () =&gt; import(&#x27;@/views/Login/Login.vue&#x27;),</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">  //主页</span><br><span class="line">&#123;</span><br><span class="line">  path: &#x27;/&#x27;,</span><br><span class="line">  name: &#x27;home&#x27;,</span><br><span class="line">  component: Layout,</span><br><span class="line">  redirect:&#x27;/login&#x27;,</span><br><span class="line">  children:[// 子路由</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br><span class="line">  // 404</span><br><span class="line">&#123;  // 定义一个路由配置项，用于匹配所有路径，如果找不到对应路由则重定向到404页面</span><br><span class="line">  path: &#x27;*&#x27;,</span><br><span class="line">  name: &#x27;404&#x27;,</span><br><span class="line">  component: () =&gt; import(&#x27;@/views/404.vue&#x27;),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>









<h1 id="JWT"><a href="#JWT" class="headerlink" title="JWT"></a>JWT</h1><p>，没看懂，</p>
<p>视频：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV12Y4y1N7Sw/?p=9&spm_id_from=333.788.top_right_bar_window_history.content.click&vd_source=dbc58f5a12c13c136d3aaf5cb68d28ae">9. 数据安全（二）_哔哩哔哩_bilibili</a></p>
<p>代码：<a target="_blank" rel="noopener" href="https://blog.csdn.net/xqnode/article/details/127127818?spm=1001.2014.3001.5501">SpringBoot集成JWT（极简版）_springboot集成jwt 程序员青戈-CSDN博客</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46195957/article/details/115326648">JWT最详细教程以及整合SpringBoot的使用（简洁易上手）_jwt的使用详解-CSDN博客</a></p>
<h1 id="数据库下划线转驼峰命名配置"><a href="#数据库下划线转驼峰命名配置" class="headerlink" title="数据库下划线转驼峰命名配置"></a>数据库下划线转驼峰命名配置</h1><p>application.yml中配置</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span> <span class="comment"># 开启自动将下划线映射为驼峰命名的映射规则</span></span><br></pre></td></tr></table></figure>



<p>这样可以将java属性中的publishDate转化为publish_date与数据库中的字段匹配</p>
<h1 id="自关联查询"><a href="#自关联查询" class="headerlink" title="自关联查询"></a>自关联查询</h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://pengzhanyi.github.io">zhanyi peng</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://pengzhanyi.github.io/2024/04/29/springboot/">https://pengzhanyi.github.io/2024/04/29/springboot/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://pengzhanyi.github.io" target="_blank">Blog | kaori</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/head_sculpture.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/07/30/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" title="苍穹外卖"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">苍穹外卖</div></div></a></div><div class="next-post pull-right"><a href="/2024/03/05/mysql/" title="mysql"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">mysql</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head_sculpture.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zhanyi peng</div><div class="author-info__description">"人生就是在欲望不满的痛苦和欲望满足后的厌倦之间，像钟摆一样地来回摆动"</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#springboot"><span class="toc-number">1.</span> <span class="toc-text">springboot</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%90%AF%E5%8A%A8"><span class="toc-number">1.1.</span> <span class="toc-text">项目启动</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A9%E7%94%A8mybatis%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9"><span class="toc-number">1.2.</span> <span class="toc-text">利用mybatis增删查改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E5%85%A5-Post"><span class="toc-number">1.2.1.</span> <span class="toc-text">插入 Post</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0Put"><span class="toc-number">1.2.2.</span> <span class="toc-text">更新Put</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2-Get"><span class="toc-number">1.2.3.</span> <span class="toc-text">查询 Get</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4-Delete"><span class="toc-number">1.2.4.</span> <span class="toc-text">删除 Delete</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.2.5.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A9%E7%94%A8xml%E6%96%87%E4%BB%B6%E7%BC%96%E5%86%99%E5%8A%A8%E6%80%81sql"><span class="toc-number">1.3.</span> <span class="toc-text">利用xml文件编写动态sql</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-number">1.4.</span> <span class="toc-text">补充</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AEmybatis%E6%97%A5%E5%BF%97"><span class="toc-number">1.4.1.</span> <span class="toc-text">配置mybatis日志</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#http"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">http</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">参数传递</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#json%E6%95%B0%E6%8D%AE%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">json数据语法格式</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#springboot%E5%88%86%E5%B1%82%E8%A7%A3%E8%80%A6%E6%9E%B6%E6%9E%84"><span class="toc-number">2.</span> <span class="toc-text">springboot分层解耦架构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="toc-number">2.1.</span> <span class="toc-text">三层架构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E8%A7%A3%E8%80%A6"><span class="toc-number">2.2.</span> <span class="toc-text">分层解耦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IOC-%E5%92%8CDI"><span class="toc-number">2.3.</span> <span class="toc-text">IOC  和DI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC"><span class="toc-number">2.3.1.</span> <span class="toc-text">控制反转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E6%89%AB%E6%8F%8F"><span class="toc-number">2.3.2.</span> <span class="toc-text">组件扫描</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="toc-number">2.3.3.</span> <span class="toc-text">依赖注入</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Autowird-%E4%B8%8E-Resource%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.3.3.1.</span> <span class="toc-text">@Autowird 与 @Resource的区别</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Mybatis-Plus"><span class="toc-number">3.</span> <span class="toc-text">Mybatis-Plus</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A2%9E%E5%88%A0%E6%9F%A5%E6%94%B9%E8%BF%9B%E9%98%B6"><span class="toc-number">4.</span> <span class="toc-text">增删查改进阶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E5%B0%8Ftips"><span class="toc-number">4.0.1.</span> <span class="toc-text">一个小tips</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">4.0.2.</span> <span class="toc-text">多条件查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#RequestParam%E4%B8%8E-PathVariable"><span class="toc-number">4.0.2.1.</span> <span class="toc-text">@RequestParam与@PathVariable</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Git"><span class="toc-number">5.</span> <span class="toc-text">Git</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue"><span class="toc-number">6.</span> <span class="toc-text">Vue</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Vue%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-number">6.1.</span> <span class="toc-text">Vue基本语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Element-ui"><span class="toc-number">6.2.</span> <span class="toc-text">Element-ui</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B1%80"><span class="toc-number">6.2.1.</span> <span class="toc-text">布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E9%92%AE"><span class="toc-number">6.2.2.</span> <span class="toc-text">按钮</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95"><span class="toc-number">6.2.3.</span> <span class="toc-text">表单</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A1%86"><span class="toc-number">6.2.3.1.</span> <span class="toc-text">输入框</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8B%E6%8B%89%E6%A1%86"><span class="toc-number">6.2.3.2.</span> <span class="toc-text">下拉框</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E9%80%89%E6%A1%86%E5%92%8C%E5%A4%9A%E9%80%89%E6%A1%86"><span class="toc-number">6.2.3.3.</span> <span class="toc-text">单选框和多选框</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">6.2.3.4.</span> <span class="toc-text">时间选择器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E9%80%89%E6%8B%A9%E5%99%A8"><span class="toc-number">6.2.3.5.</span> <span class="toc-text">日期选择器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A8%E6%A0%BC"><span class="toc-number">6.2.4.</span> <span class="toc-text">表格</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%8F%9C%E5%8D%95%E6%A0%8F"><span class="toc-number">7.</span> <span class="toc-text">菜单栏</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E7%A4%BA%E4%BF%A1%E6%81%AF"><span class="toc-number">7.0.1.</span> <span class="toc-text">提示信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%B9%E7%AA%97"><span class="toc-number">7.0.2.</span> <span class="toc-text">弹窗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E9%A1%B9%E7%9B%AE"><span class="toc-number">7.0.3.</span> <span class="toc-text">vue项目</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E4%BA%A4%E4%BA%92"><span class="toc-number">8.</span> <span class="toc-text">前后端数据交互</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-number">8.1.</span> <span class="toc-text">跨域问题</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">9.</span> <span class="toc-text">分页查询</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">10.</span> <span class="toc-text">模糊查询</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E5%90%8E%E7%AB%AFcrud%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.</span> <span class="toc-text">前后端crud实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E"><span class="toc-number">11.1.</span> <span class="toc-text">新增</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9"><span class="toc-number">11.2.</span> <span class="toc-text">修改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8E%E7%AB%AF%E6%95%B0%E6%8D%AE%E5%B1%95%E7%A4%BA%E5%9C%A8%E5%89%8D%E7%AB%AF"><span class="toc-number">11.2.1.</span> <span class="toc-text">后端数据展示在前端</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E4%BF%AE%E6%94%B9%E5%90%8E%E7%9A%84%E6%95%B0%E6%8D%AE%E6%8F%90%E4%BA%A4%E5%88%B0%E5%90%8E%E7%AB%AF"><span class="toc-number">11.2.2.</span> <span class="toc-text">前端修改后的数据提交到后端</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">11.3.</span> <span class="toc-text">删除</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%A1%A8%E5%8D%95%E6%A0%A1%E9%AA%8C"><span class="toc-number">12.</span> <span class="toc-text">表单校验</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%89%8D%E5%90%8E%E5%8F%B0"><span class="toc-number">13.</span> <span class="toc-text">登录前后台</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E7%AB%AF%E5%AE%9E%E7%8E%B0"><span class="toc-number">14.</span> <span class="toc-text">前端实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E5%8F%B0%E7%99%BB%E5%BD%95%E5%AE%9E%E7%8E%B0%EF%BC%9A"><span class="toc-number">14.1.</span> <span class="toc-text">后台登录实现：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">15.</span> <span class="toc-text">全局异常处理</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Swagger-API"><span class="toc-number">16.</span> <span class="toc-text">Swagger API</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%92%8C%E6%95%B0%E6%8D%AE%E5%AE%89%E5%85%A8"><span class="toc-number">17.</span> <span class="toc-text">登录和数据安全</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookie"><span class="toc-number">17.1.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E5%B1%8F%E9%9A%9C"><span class="toc-number">17.2.</span> <span class="toc-text">登录屏障</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86"><span class="toc-number">17.3.</span> <span class="toc-text">密码加密</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#router-%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">17.4.</span> <span class="toc-text">router 路由守卫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#404%E9%A1%B5%E9%9D%A2"><span class="toc-number">17.5.</span> <span class="toc-text">404页面</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JWT"><span class="toc-number">18.</span> <span class="toc-text">JWT</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%8B%E5%88%92%E7%BA%BF%E8%BD%AC%E9%A9%BC%E5%B3%B0%E5%91%BD%E5%90%8D%E9%85%8D%E7%BD%AE"><span class="toc-number">19.</span> <span class="toc-text">数据库下划线转驼峰命名配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%87%AA%E5%85%B3%E8%81%94%E6%9F%A5%E8%AF%A2"><span class="toc-number">20.</span> <span class="toc-text">自关联查询</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/07/30/%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/" title="苍穹外卖">苍穹外卖</a><time datetime="2024-07-30T01:15:42.000Z" title="发表于 2024-07-30 09:15:42">2024-07-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/04/29/springboot/" title="springboot">springboot</a><time datetime="2024-04-29T05:56:49.000Z" title="发表于 2024-04-29 13:56:49">2024-04-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/03/05/mysql/" title="mysql">mysql</a><time datetime="2024-03-04T17:11:07.000Z" title="发表于 2024-03-05 01:11:07">2024-03-05</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/27/pa/" title="无题">无题</a><time datetime="2024-01-26T16:51:04.982Z" title="发表于 2024-01-27 00:51:04">2024-01-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/18/linux/" title="Linux">Linux</a><time datetime="2024-01-18T08:07:15.000Z" title="发表于 2024-01-18 16:07:15">2024-01-18</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By zhanyi peng</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>